{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      auth: {\n        isAuthenticated: false,\n        user: {}\n      },\n      digitalPurchaseHistories: [],\n      currentPage: 1,\n      digitalPurchaseHistoriesHolder: [],\n      totalItems: \"\"\n    };\n  },\n\n  created() {\n    var user = localStorage.getItem(\"user\");\n\n    if (user !== null) {\n      user = JSON.parse(user);\n      this.auth.isAuthenticated = true;\n      this.auth.user = user;\n      this.getDigitalPurchaseHistory(1);\n    }\n  },\n\n  methods: {\n    getDigitalPurchaseHistory(page) {\n      const csrfToken = document.head.querySelector('meta[name=\"csrf-token\"]').content;\n      console.log(\"COllllll\");\n      axios.defaults.headers.common['X-CSRF-TOKEN'] = csrfToken;\n      axios.get(this.selfDomain + \"vueweb/digital_purchase_history\", {\n        headers: {\n          // token: this.auth.user.access_token,\n          Authorization: \"Bearer \" + this.auth.user.access_token,\n          id: this.auth.user.id\n        }\n      }).then(res => {\n        console.log(res);\n        console.log(\"Backkkkkk\");\n        return;\n        this.digitalPurchaseHistoriesHolder[page] = res.data[0].data;\n        this.digitalPurchaseHistories = this.digitalPurchaseHistoriesHolder[page];\n        this.totalItems = res.data[1];\n        console.log(res.data);\n        this.scrollToTop();\n      }).catch(err => {\n        console.log(\"ERRorrrr\");\n        console.log(err);\n      }); // else{\n      //     this.digitalPurchaseHistories = this.digitalPurchaseHistoriesHolder[page];\n      //     this.scrollToTop();\n      // }\n    },\n\n    scrollToTop() {\n      window.scrollTo(0, 0);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAmCA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe;EACbC,IAAI,GAAE;IACJ,OAAM;MACFC,IAAI,EAAC;QACCC,eAAe,EAAE,KADlB;QAECC,IAAI,EAAE;MAFP,CADH;MAKFC,wBAAwB,EAAC,EALvB;MAMFC,WAAW,EAAC,CANV;MAOFC,8BAA8B,EAAC,EAP7B;MAQFC,UAAU,EAAC;IART,CAAN;EAWD,CAbY;;EAebC,OAAO,GAAE;IACH,IAAIL,IAAG,GAAIM,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX;;IACA,IAAGP,IAAG,KAAM,IAAZ,EAAiB;MACbA,IAAG,GAAIQ,IAAI,CAACC,KAAL,CAAWT,IAAX,CAAP;MACA,KAAKF,IAAL,CAAUC,eAAV,GAA4B,IAA5B;MACA,KAAKD,IAAL,CAAUE,IAAV,GAAiBA,IAAjB;MACA,KAAKU,yBAAL,CAA+B,CAA/B;IACJ;EACH,CAvBU;;EAwBbC,OAAO,EAAE;IACPD,yBAAyB,CAACE,IAAD,EAAM;MAE3B,MAAMC,SAAQ,GAAIC,QAAQ,CAACC,IAAT,CAAcC,aAAd,CAA4B,yBAA5B,EAAuDC,OAAzE;MACAC,OAAO,CAACC,GAAR,CAAY,UAAZ;MAEAvB,KAAK,CAACwB,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,cAA9B,IAAgDT,SAAhD;MACAjB,KAAK,CAAC2B,GAAN,CAAU,KAAKC,UAAL,GAAgB,iCAA1B,EAA4D;QACxDH,OAAO,EAAE;UACD;UACAI,aAAa,EAAE,YAAY,KAAK3B,IAAL,CAAUE,IAAV,CAAe0B,YAFzC;UAGDC,EAAE,EAAE,KAAK7B,IAAL,CAAUE,IAAV,CAAe2B;QAHlB;MAD+C,CAA5D,EAMCC,IAND,CAMOC,GAAD,IAAO;QACbX,OAAO,CAACC,GAAR,CAAYU,GAAZ;QACAX,OAAO,CAACC,GAAR,CAAY,WAAZ;QACA;QACA,KAAKhB,8BAAL,CAAoCS,IAApC,IAA4CiB,GAAG,CAAChC,IAAJ,CAAS,CAAT,EAAYA,IAAxD;QACA,KAAKI,wBAAL,GAAgC,KAAKE,8BAAL,CAAoCS,IAApC,CAAhC;QACA,KAAKR,UAAL,GAAkByB,GAAG,CAAChC,IAAJ,CAAS,CAAT,CAAlB;QACAqB,OAAO,CAACC,GAAR,CAAYU,GAAG,CAAChC,IAAhB;QACA,KAAKiC,WAAL;MACD,CAfC,EAeCC,KAfD,CAeQC,GAAD,IAAO;QACdd,OAAO,CAACC,GAAR,CAAY,UAAZ;QACCD,OAAO,CAACC,GAAR,CAAYa,GAAZ;MACF,CAlBC,EAN2B,CAyB/B;MACA;MACA;MACA;IAEC,CA/BM;;IAgCPF,WAAW,GAAG;MACdG,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAkB,CAAlB;IACF;;EAlCS;AAxBI,CAAf","names":["axios","data","auth","isAuthenticated","user","digitalPurchaseHistories","currentPage","digitalPurchaseHistoriesHolder","totalItems","created","localStorage","getItem","JSON","parse","getDigitalPurchaseHistory","methods","page","csrfToken","document","head","querySelector","content","console","log","defaults","headers","common","get","selfDomain","Authorization","access_token","id","then","res","scrollToTop","catch","err","window","scrollTo"],"sourceRoot":"","sources":["F:\\adminDeal\\src\\components\\pages\\user\\digital_purchase_history.vue"],"sourcesContent":["<template>\r\n      <div class=\"card\">\r\n        <div class=\"card-header\">\r\n            <h5 class=\"mb-0 h6\">Download Your Product</h5>\r\n        </div>\r\n        <div class=\"card-body\">\r\n          <table class=\"table mb-0\">\r\n              <thead>\r\n                  <tr>\r\n                      <th>Product</th>\r\n                      <th width=\"20%\">Option</th>\r\n                  </tr>\r\n              </thead>\r\n              <tbody>\r\n                  <!-- @foreach ($orders as $key => $order_id)\r\n                      @php\r\n                          $order = \\App\\Models\\OrderDetail::find($order_id->id);\r\n                      @endphp -->\r\n                      <tr>\r\n                          <td><a href=\"\">name</a></td>\r\n                          <td>\r\n                            <a class=\"btn btn-soft-info btn-icon btn-circle btn-sm\" href=\"\" title=\"Download\">\r\n                                <i class=\"las la-download\"></i>\r\n                            </a>\r\n                          </td>\r\n                      </tr>\r\n                  <!-- @endforeach -->\r\n              </tbody>\r\n          </table>\r\n            <!-- {{ $orders->links() }} -->\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n  data(){\r\n    return{\r\n        auth:{\r\n              isAuthenticated: false,\r\n              user: {},\r\n          },\r\n        digitalPurchaseHistories:[],\r\n        currentPage:1,\r\n        digitalPurchaseHistoriesHolder:[],\r\n        totalItems:\"\"\r\n        \r\n    }\r\n  },\r\n  \r\n  created(){\r\n        var user = localStorage.getItem(\"user\");\r\n        if(user !== null){\r\n            user = JSON.parse(user);\r\n            this.auth.isAuthenticated = true;\r\n            this.auth.user = user;\r\n            this.getDigitalPurchaseHistory(1);\r\n        }\r\n    },\r\n  methods: {\r\n    getDigitalPurchaseHistory(page){\r\n   \r\n        const csrfToken = document.head.querySelector('meta[name=\"csrf-token\"]').content;\r\n        console.log(\"COllllll\");\r\n\r\n        axios.defaults.headers.common['X-CSRF-TOKEN'] = csrfToken;\r\n        axios.get(this.selfDomain+\"vueweb/digital_purchase_history\",{\r\n            headers: {\r\n                    // token: this.auth.user.access_token,\r\n                    Authorization: \"Bearer \" + this.auth.user.access_token,\r\n                    id: this.auth.user.id\r\n                }\r\n      }).then((res)=>{\r\n        console.log(res);\r\n        console.log(\"Backkkkkk\");\r\n        return;\r\n        this.digitalPurchaseHistoriesHolder[page] = res.data[0].data;\r\n        this.digitalPurchaseHistories = this.digitalPurchaseHistoriesHolder[page];\r\n        this.totalItems = res.data[1];\r\n        console.log(res.data);\r\n        this.scrollToTop();\r\n      }).catch((err)=>{\r\n        console.log(\"ERRorrrr\");\r\n         console.log(err)\r\n      })\r\n    // else{\r\n    //     this.digitalPurchaseHistories = this.digitalPurchaseHistoriesHolder[page];\r\n    //     this.scrollToTop();\r\n    // }\r\n      \r\n    },\r\n    scrollToTop() {\r\n    window.scrollTo(0,0);\r\n  }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      auth: {\n        isAuthenticated: false,\n        user: {}\n      },\n      carts: [],\n      total: 0,\n      preLoader: true,\n      cartIsEmpty: false\n    };\n  },\n\n  created() {\n    var user = localStorage.getItem(\"user\");\n\n    if (user !== null) {\n      user = JSON.parse(user);\n      this.auth.isAuthenticated = true;\n      this.auth.user = user;\n    }\n\n    this.getCart();\n  },\n\n  computed() {},\n\n  mounted() {},\n\n  methods: {\n    getCart() {\n      var token = \"\";\n      var temp_user = \"\";\n\n      if (this.auth.isAuthenticated == true) {\n        token = this.auth.user.access_token;\n      } else {\n        var temp_user = localStorage.getItem(\"temp_user\");\n        if (!temp_user) temp_user = \"\";\n      }\n\n      this.preLoader = true;\n      axios.get(this.rootDomain + 'vueweb/cart', {\n        params: {\n          token: token,\n          temp_user: temp_user\n        }\n      }).then(res => {\n        this.preLoader = false;\n        console.log(res.data);\n        this.carts = res.data.carts;\n        this.total = res.data.total;\n        if (!this.carts.length) this.cartIsEmpty = true;\n      }).catch(err => {});\n    },\n\n    removeFromCart(key) {\n      axios.get(this.rootDomain + 'vueweb/cart/removeFromCart', {\n        params: {\n          id: key\n        }\n      }).then(res => {\n        this.emitter.emit(\"reload\", true);\n        this.getCart();\n      }).catch(err => {});\n    },\n\n    updateQuantity(index) {\n      var token = \"\";\n      var temp_user = \"\";\n\n      if (this.auth.isAuthenticated == true) {\n        token = this.auth.user.access_token;\n      } else {\n        var temp_user = localStorage.getItem(\"temp_user\");\n        if (!temp_user) temp_user = \"\";\n      }\n\n      axios.get(this.rootDomain + 'vueweb/cart/updateQuantity', {\n        params: {\n          token: token,\n          temp_user: temp_user,\n          id: this.carts[index].id,\n          quantity: this.carts[index].quantity\n        }\n      }).then(res => {\n        // console.log(\"okkkk\");\n        // console.log(res.data);\n        this.carts[index].single_price = \"৳\" + this.carts[index].quantity * res.data;\n      }).catch(err => {});\n    },\n\n    incresQuantity(index) {\n      this.carts[index].quantity = this.carts[index].quantity + 1;\n      if (this.carts[index].quantity > this.carts[index].product_stock) this.carts[index].quantity = this.carts[index].product_stock;\n      this.updateQuantity(index);\n    },\n\n    decresQuantity(index) {\n      console.log(this.carts[index].quantity);\n      this.carts[index].quantity = this.carts[index].quantity - 1;\n      if (this.carts[index].quantity < 1) this.carts[index].quantity = 1;\n      this.updateQuantity(index);\n    },\n\n    setQuantity(index) {\n      let qty = $(\"#quantity\" + index).val();\n      if (qty < 1) qty = 1;\n      if (qty > this.carts[index].product_stock) qty = this.carts[index].product_stock;\n      this.carts[index].quantity = qty;\n      this.updateQuantity(index);\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","data","auth","isAuthenticated","user","carts","total","preLoader","cartIsEmpty","created","localStorage","getItem","JSON","parse","getCart","computed","mounted","methods","token","temp_user","access_token","get","rootDomain","params","then","res","console","log","length","catch","err","removeFromCart","key","id","emitter","emit","updateQuantity","index","quantity","single_price","incresQuantity","product_stock","decresQuantity","setQuantity","qty","$","val"],"sourceRoot":"","sources":["F:\\adminDeal\\src\\components\\pages\\user\\cartView.vue"],"sourcesContent":["<template>\n\n\n\n    <section class=\"pt-5 mb-4\">\n        <div class=\"container\">\n            <div class=\"row\">\n                <div class=\"col-xl-8 mx-auto\">\n                    <div class=\"row aiz-steps arrow-divider\">\n                        <div class=\"col active\">\n                            <div class=\"text-center text-primary\">\n                                <i class=\"la-3x mb-2 las la-shopping-cart\"></i>\n                                <h3 class=\"fs-14 fw-600 d-none d-lg-block\">{{'1. My Cart' }}</h3>\n                            </div>\n                        </div>\n                        <div class=\"col\">\n                            <div class=\"text-center\">\n                                <i class=\"la-3x mb-2 opacity-50 las la-map\"></i>\n                                <h3 class=\"fs-14 fw-600 d-none d-lg-block opacity-50\">{{ '2. Shipping info' }}\n                                </h3>\n                            </div>\n                        </div>\n                        <div class=\"col\">\n                            <div class=\"text-center\">\n                                <i class=\"la-3x mb-2 opacity-50 las la-truck\"></i>\n                                <h3 class=\"fs-14 fw-600 d-none d-lg-block opacity-50\">{{ '3. Delivery info' }}\n                                </h3>\n                            </div>\n                        </div>\n                        <div class=\"col\">\n                            <div class=\"text-center\">\n                                <i class=\"la-3x mb-2 opacity-50 las la-credit-card\"></i>\n                                <h3 class=\"fs-14 fw-600 d-none d-lg-block opacity-50\">{{ '4. Payment' }}</h3>\n                            </div>\n                        </div>\n                        <div class=\"col\">\n                            <div class=\"text-center\">\n                                <i class=\"la-3x mb-2 opacity-50 las la-check-circle\"></i>\n                                <h3 class=\"fs-14 fw-600 d-none d-lg-block opacity-50\">{{ '5. Confirmation' }}\n                                </h3>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </section>\n \n    <section class=\"mb-4\" id=\"cart-summary\">\n        <div class=\"container\">\n            <div v-if=\"preLoader\" class=\"c-preloader text-center p-3\" style=\"height: 100%; width: 100%; text-align: center; font-size: 30px;\">\n                <i class=\"las la-spinner la-spin la-3x\"></i>\n            </div>\n                <div v-if=\"carts.length > 0\" class=\"row\">\n                    <div class=\"col-xxl-8 col-xl-10 mx-auto\">\n                        <div class=\"shadow-sm bg-white p-3 p-lg-4 rounded text-left\">\n                            <div class=\"mb-4\">\n                                <div class=\"row gutters-5 d-none d-lg-flex border-bottom mb-3 pb-3\">\n                                    <div class=\"col-md-5 fw-600\">{{ 'Product' }}</div>\n                                    <div class=\"col fw-600\">{{ 'Price' }}</div>\n                                    <div class=\"col fw-600\">{{ 'Tax' }}</div>\n                                    <div class=\"col fw-600\">{{ 'Quantity' }}</div>\n                                    <div class=\"col fw-600\">{{ 'Total' }}</div>\n                                    <div class=\"col-auto fw-600\">{{ 'Remove'}}</div>\n                                </div>\n                                <ul class=\"list-group list-group-flush\">\n                                  \n                         \n                                      \n                                        <li v-for=\"(item, index) in carts\" :key=\"index\" class=\"list-group-item px-0 px-lg-3\">\n                                            <div class=\"row gutters-5\">\n                                                <div class=\"col-lg-5 d-flex\">\n                                                    <span class=\"mr-2 ml-0\">\n                                                        <img :src=\"item.productData.data[0].thumbnail_image\"\n                                                            class=\"img-fit size-60px rounded\"\n                                                            :alt=\"item.productData.data[0].name\">\n                                                    </span>\n                                                    <span class=\"fs-14 opacity-60\">{{ item.product_name_with_choice }}</span>\n                                                </div>\n\n                                                <div class=\"col-lg col-4 order-1 order-lg-0 my-3 my-lg-0\">\n                                                    <span\n                                                        class=\"opacity-60 fs-12 d-block d-lg-none\">{{ 'Price' }}</span>\n                                                    <span\n                                                        class=\"fw-600 fs-16\">{{ item.cart_product_price }}</span>\n                                                </div>\n                                                <div class=\"col-lg col-4 order-2 order-lg-0 my-3 my-lg-0\">\n                                                    <span\n                                                        class=\"opacity-60 fs-12 d-block d-lg-none\">{{ 'Tax' }}</span>\n                                                    <span\n                                                        class=\"fw-600 fs-16\">{{ item.cart_product_tax }}</span>\n                                                </div>\n\n                                                <div class=\"col-lg col-6 order-4 order-lg-0\">\n                                                  \n                                                        <div v-if=\"item.digital != 1 && item.productData.data[0].auction_product == 0\"\n                                                            class=\"row no-gutters align-items-center aiz-plus-minus mr-2 ml-0\">\n                                                            <button\n                                                                class=\"btn col-auto btn-icon btn-sm btn-circle btn-light\"\n                                                                type=\"button\" data-type=\"minus\"\n                                                                @click=\"decresQuantity(index)\"\n                                                                :data-field=\"'quantity'+item.id\">\n                                                                <i class=\"las la-minus\"></i>\n                                                            </button>\n                                                            <input type=\"number\" :name=\"'quantity'+item.id\"\n                                                                class=\"col border-0 text-center flex-grow-1 fs-16 input-number\"\n                                                                :id=\"'quantity'+index\"\n                                                                @change=\"setQuantity(index)\"\n                                                                placeholder=\"1\" :value=\"item.quantity\"\n                                                                :min=\"item.productData.data[0].min_qty\"\n                                                                :max=\"item.product_stock\">\n                                                            <button\n                                                                class=\"btn col-auto btn-icon btn-sm btn-circle btn-light\"\n                                                                type=\"button\" data-type=\"plus\"\n                                                                @click=\"incresQuantity(index)\"\n                                                                :data-field=\"'quantity'+item.id\">\n                                                                <i class=\"las la-plus\"></i>\n                                                            </button>\n                                                        </div>\n                                                        <span v-else-if=\"item.productData.data[0].auction_product == 1\" class=\"fw-600 fs-16\">1</span>\n                                                </div>\n                                                <div class=\"col-lg col-4 order-3 order-lg-0 my-3 my-lg-0\">\n                                                    <span\n                                                        class=\"opacity-60 fs-12 d-block d-lg-none\">{{ 'Total' }}</span>\n                                                    <span\n                                                        class=\"fw-600 fs-16 text-primary\">{{ item.single_price }}</span>\n                                                </div>\n                                                <div class=\"col-lg-auto col-6 order-5 order-lg-0 text-right\">\n                                                    <a @click=\"removeFromCart(item.id)\" href=\"javascript:void(0)\"\n                                                        class=\"btn btn-icon btn-sm btn-soft-primary btn-circle\">\n                                                        <i class=\"las la-trash\"></i>\n                                                    </a>\n                                                </div>\n                                            </div>\n                                        </li>\n                                  \n                                </ul>\n                            </div>\n\n                            <div class=\"px-3 py-2 mb-4 border-top d-flex justify-content-between\">\n                                <span class=\"opacity-60 fs-15\">{{ 'Subtotal' }}</span>\n                                <span class=\"fw-600 fs-17\">{{ total }}</span>\n                            </div>\n                            <div class=\"row align-items-center\">\n                                <div class=\"col-md-6 text-center text-md-left order-1 order-md-0\">\n                                    <a href=\"javascript:void(0)\" class=\"btn btn-link\">\n                                        <i class=\"las la-arrow-left\"></i>\n                                        {{ 'Return to shop' }}\n                                    </a>\n                                </div>\n                                <div class=\"col-md-6 text-center text-md-right\">\n                                  \n                                    <router-link v-if=\"auth.isAuthenticated\" :to=\"{name: 'ShippingInfo'}\" class=\"btn btn-primary fw-600\">\n                                        {{ 'Continue to Shipping' }}\n                                    </router-link>\n                                  \n                                    <router-link :to=\"{name: 'ShippingInfo'}\" v-else class=\"btn btn-primary fw-600\">{{ 'Continue to Shipping' }}</router-link>\n                                    \n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            \n                <div v-if=\"cartIsEmpty\" class=\"row\">\n                    <div class=\"col-xl-8 mx-auto\">\n                        <div class=\"shadow-sm bg-white p-4 rounded\">\n                            <div class=\"text-center p-3\">\n                                <i class=\"las la-frown la-3x opacity-60 mb-3\"></i>\n                                <h3 class=\"h4 fw-700\">{{ 'Your Cart is empty' }}</h3>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            \n        </div>\n    </section>\n\n   <!--\n@endsection\n\n@section('modal')\n    <div class=\"modal fade\" id=\"login-modal\">\n        <div class=\"modal-dialog modal-dialog-zoom\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h6 class=\"modal-title fw-600\">{{ translate('Login') }}</h6>\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\">\n                        <span aria-hidden=\"true\"></span>\n                    </button>\n                </div>\n                <div class=\"modal-body\">\n                    <div class=\"p-3\">\n                        <form class=\"form-default\" role=\"form\" action=\"{{ route('cart.login.submit') }}\" method=\"POST\">\n                            @csrf\n                            @if (addon_is_activated('otp_system') && env('DEMO_MODE') != 'On')\n                                <div class=\"form-group phone-form-group mb-1\">\n                                    <input type=\"tel\" id=\"phone-code\"\n                                        class=\"form-control{{ $errors->has('phone') ? ' is-invalid' : '' }}\"\n                                        value=\"{{ old('phone') }}\" placeholder=\"\" name=\"phone\" autocomplete=\"off\">\n                                </div>\n\n                                <input type=\"hidden\" name=\"country_code\" value=\"\">\n\n                                <div class=\"form-group email-form-group mb-1 d-none\">\n                                    <input type=\"email\"\n                                        class=\"form-control {{ $errors->has('email') ? ' is-invalid' : '' }}\"\n                                        value=\"{{ old('email') }}\" placeholder=\"{{ translate('Email') }}\" name=\"email\"\n                                        id=\"email\" autocomplete=\"off\">\n                                    @if ($errors->has('email'))\n                                        <span class=\"invalid-feedback\" role=\"alert\">\n                                            <strong>{{ $errors->first('email') }}</strong>\n                                        </span>\n                                    @endif\n                                </div>\n\n                                <div class=\"form-group text-right\">\n                                    <button class=\"btn btn-link p-0 opacity-50 text-reset\" type=\"button\"\n                                        onclick=\"toggleEmailPhone(this)\">{{ translate('Use Email Instead') }}</button>\n                                </div>\n                            @else\n                                <div class=\"form-group\">\n                                    <input type=\"email\"\n                                        class=\"form-control{{ $errors->has('email') ? ' is-invalid' : '' }}\"\n                                        value=\"{{ old('email') }}\" placeholder=\"{{ translate('Email') }}\" name=\"email\"\n                                        id=\"email\" autocomplete=\"off\">\n                                    @if ($errors->has('email'))\n                                        <span class=\"invalid-feedback\" role=\"alert\">\n                                            <strong>{{ $errors->first('email') }}</strong>\n                                        </span>\n                                    @endif\n                                </div>\n                            @endif\n\n                            <div class=\"form-group\">\n                                <input type=\"password\"\n                                    class=\"form-control {{ $errors->has('password') ? ' is-invalid' : '' }}\"\n                                    placeholder=\"{{ translate('Password') }}\" name=\"password\" id=\"password\">\n                            </div>\n\n                            <div class=\"row mb-2\">\n                                <div class=\"col-6\">\n                                    <label class=\"aiz-checkbox\">\n                                        <input type=\"checkbox\" name=\"remember\" {{ old('remember') ? 'checked' : '' }}>\n                                        <span class=opacity-60>{{ translate('Remember Me') }}</span>\n                                        <span class=\"aiz-square-check\"></span>\n                                    </label>\n                                </div>\n                                <div class=\"col-6 text-right\">\n                                    <a href=\"{{ route('password.request') }}\"\n                                        class=\"text-reset opacity-60 fs-14\">{{ translate('Forgot password?') }}</a>\n                                </div>\n                            </div>\n\n                            <div class=\"mb-5\">\n                                <button type=\"submit\"\n                                    class=\"btn btn-primary btn-block fw-600\">{{ translate('Login') }}</button>\n                            </div>\n                        </form>\n\n                    </div>\n                    <div class=\"text-center mb-3\">\n                        <p class=\"text-muted mb-0\">{{ translate('Dont have an account?') }}</p>\n                        <a href=\"{{ route('user.registration') }}\">{{ translate('Register Now') }}</a>\n                    </div>\n                    @if (get_setting('google_login') == 1 || get_setting('facebook_login') == 1 || get_setting('twitter_login') == 1)\n                        <div class=\"separator mb-3\">\n                            <span class=\"bg-white px-3 opacity-60\">{{ translate('Or Login With') }}</span>\n                        </div>\n                        <ul class=\"list-inline social colored text-center mb-3\">\n                            @if (get_setting('facebook_login') == 1)\n                                <li class=\"list-inline-item\">\n                                    <a href=\"{{ route('social.login', ['provider' => 'facebook']) }}\"\n                                        class=\"facebook\">\n                                        <i class=\"lab la-facebook-f\"></i>\n                                    </a>\n                                </li>\n                            @endif\n                            @if (get_setting('google_login') == 1)\n                                <li class=\"list-inline-item\">\n                                    <a href=\"{{ route('social.login', ['provider' => 'google']) }}\"\n                                        class=\"google\">\n                                        <i class=\"lab la-google\"></i>\n                                    </a>\n                                </li>\n                            @endif\n                            @if (get_setting('twitter_login') == 1)\n                                <li class=\"list-inline-item\">\n                                    <a href=\"{{ route('social.login', ['provider' => 'twitter']) }}\"\n                                        class=\"twitter\">\n                                        <i class=\"lab la-twitter\"></i>\n                                    </a>\n                                </li>\n                            @endif\n                        </ul>\n                    @endif\n                </div>\n            </div>\n        </div>\n    </div>\n@endsection\n\n\n\n@section('script')\n    <script type=\"text/javascript\">\n        function removeFromCartView(e, key) {\n            e.preventDefault();\n            removeFromCart(key);\n        }\n\n        function updateQuantity(key, element) {\n            $.post('{{ route('cart.updateQuantity') }}', {\n                _token: AIZ.data.csrf,\n                id: key,\n                quantity: element.value\n            }, function(data) {\n                updateNavCart(data.nav_cart_view, data.cart_count);\n                $('#cart-summary').html(data.cart_view);\n            });\n        }\n\n        function showCheckoutModal() {\n            $('#login-modal').modal();\n        }\n\n        // Country Code\n        var isPhoneShown = true,\n            countryData = window.intlTelInputGlobals.getCountryData(),\n            input = document.querySelector(\"#phone-code\");\n\n        for (var i = 0; i < countryData.length; i++) {\n            var country = countryData[i];\n            if (country.iso2 == 'bd') {\n                country.dialCode = '88';\n            }\n        }\n\n        var iti = intlTelInput(input, {\n            separateDialCode: true,\n            utilsScript: \"{{ static_asset('assets/js/intlTelutils.js') }}?1590403638580\",\n            onlyCountries: @php echo json_encode(\\App\\Models\\Country::where('status', 1)->pluck('code')->toArray()) @endphp,\n            customPlaceholder: function(selectedCountryPlaceholder, selectedCountryData) {\n                if (selectedCountryData.iso2 == 'bd') {\n                    return \"01xxxxxxxxx\";\n                }\n                return selectedCountryPlaceholder;\n            }\n        });\n\n        var country = iti.getSelectedCountryData();\n        $('input[name=country_code]').val(country.dialCode);\n\n        input.addEventListener(\"countrychange\", function(e) {\n            // var currentMask = e.currentTarget.placeholder;\n\n            var country = iti.getSelectedCountryData();\n            $('input[name=country_code]').val(country.dialCode);\n\n        });\n\n        function toggleEmailPhone(el) {\n            if (isPhoneShown) {\n                $('.phone-form-group').addClass('d-none');\n                $('.email-form-group').removeClass('d-none');\n                $('input[name=phone]').val(null);\n                isPhoneShown = false;\n                $(el).html('{{ translate('Use Phone Instead') }}');\n            } else {\n                $('.phone-form-group').removeClass('d-none');\n                $('.email-form-group').addClass('d-none');\n                $('input[name=email]').val(null);\n                isPhoneShown = true;\n                $(el).html('{{ translate('Use Email Instead') }}');\n            }\n        }\n    </script>\n@endsection \n-->\n<!-- <h1>OKKKK</h1> -->\n</template>\n  \n  <script>\n  import axios from 'axios';\n  export default {\n    data(){\n      return{\n        auth:{\n          isAuthenticated: false,\n          user: {},\n        },\n        carts: [],\n        total: 0,\n        preLoader: true,\n        cartIsEmpty: false,\n      }\n    },\n    created(){\n        var user = localStorage.getItem(\"user\");\n        if(user !== null){\n            user = JSON.parse(user);\n            this.auth.isAuthenticated = true;\n            this.auth.user = user;\n        }\n        this.getCart();\n    },\n    computed(){\n      \n    },\n    mounted(){\n      \n    },\n    methods:{\n        getCart(){\n            \n            var token = \"\";\n            var temp_user = \"\";\n            if(this.auth.isAuthenticated==true){\n                token = this.auth.user.access_token;\n            }else{\n                var temp_user = localStorage.getItem(\"temp_user\");\n                if(!temp_user) temp_user = \"\";\n            }\n\n\n            this.preLoader = true;\n            axios.get(this.rootDomain+'vueweb/cart', {\n                params: {\n                    token: token,\n                    temp_user: temp_user,\n                }\n            }).then(res=>{\n                this.preLoader = false;\n                console.log(res.data);\n                this.carts = res.data.carts;\n                this.total = res.data.total;\n                if(!this.carts.length)\n                    this.cartIsEmpty = true;\n\n            }).catch(err=>{\n\n            });\n\n        },\n\n        removeFromCart(key){\n            axios.get(this.rootDomain+'vueweb/cart/removeFromCart', {\n                params: {\n                    id:key\n                }\n            }).then(res=>{\n                this.emitter.emit(\"reload\", true);\n                this.getCart();\n            }).catch(err=>{\n                \n            });\n\n        },\n\n\n        updateQuantity(index) {\n            var token = \"\";\n            var temp_user = \"\";\n            if(this.auth.isAuthenticated==true){\n                token = this.auth.user.access_token;\n            }else{\n                var temp_user = localStorage.getItem(\"temp_user\");\n                if(!temp_user) temp_user = \"\";\n            }\n            axios.get(this.rootDomain+'vueweb/cart/updateQuantity', {\n                params: {\n                    token: token,\n                    temp_user: temp_user,\n                    id: this.carts[index].id,\n                    quantity: this.carts[index].quantity,\n                }\n            }).then(res=>{\n                // console.log(\"okkkk\");\n                // console.log(res.data);\n                this.carts[index].single_price = \"৳\"+(this.carts[index].quantity * res.data);\n            }).catch(err=>{\n\n            });\n        },\n\n        incresQuantity(index){\n            this.carts[index].quantity = this.carts[index].quantity + 1;\n            if( this.carts[index].quantity > this.carts[index].product_stock)  \n                this.carts[index].quantity = this.carts[index].product_stock;\n          \n            this.updateQuantity(index);\n        },\n        decresQuantity(index){\n           console.log(this.carts[index].quantity);\n            this.carts[index].quantity = this.carts[index].quantity - 1;\n            if( this.carts[index].quantity < 1)  \n                this.carts[index].quantity = 1;\n            this.updateQuantity(index);\n        },\n        setQuantity(index){\n            let qty = $(\"#quantity\"+index).val();\n            if(qty<1) qty = 1;\n            if(qty > this.carts[index].product_stock) \n                qty = this.carts[index].product_stock;\n            this.carts[index].quantity = qty;\n            this.updateQuantity(index);\n        },\n    }\n  }\n  </script>\n  \n  <style>\n  \n  </style>"]},"metadata":{},"sourceType":"module"}
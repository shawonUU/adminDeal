{"ast":null,"code":"import axios from 'axios';\nexport default {\n  components: {},\n\n  data() {\n    return {\n      auth: {\n        isAuthenticated: false,\n        user: {}\n      }\n    };\n  },\n\n  mounted() {\n    this.emitter.on(\"addressId\", nijosso => {\n      console.log(nijosso); //  setDeliveryData(id);\n    });\n  },\n\n  created() {\n    var user = localStorage.getItem(\"user\");\n\n    if (user !== null) {\n      user = JSON.parse(user);\n      this.auth.isAuthenticated = true;\n      this.auth.user = user; // this.setDeliveryData();\n    }\n  },\n\n  methods: {\n    setDeliveryData(id) {//     axios.get(this.selfDomain+\"vueweb/checkout/delivery_info\", {\n      //       params:{\n      //         address_id: address_id,\n      //       },\n      //       headers: {\n      //         Authorization: \"Bearer \" + this.auth.user.access_token,\n      //       }\n      //   }).then(res=>{\n      //     // console.log(res.data);\n      //     this.emitter.emit(\"addressId\", address_id);\n      //     this.$router.push({\n      //         name: \"deliveryInfo\",\n      //     });\n      //   }).catch(err=>{\n      //   });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAkXE,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe;EACbC,UAAU,EAAC,EADE;;EAEbC,IAAI,GAAE;IACJ,OAAM;MACJC,IAAI,EAAC;QACHC,eAAe,EAAE,KADd;QAEHC,IAAI,EAAE;MAFH;IADD,CAAN;EAOD,CAVY;;EAWZC,OAAO,GAAE;IACL,KAAKC,OAAL,CAAaC,EAAb,CAAgB,WAAhB,EAA6BC,OAAM,IAAK;MACrCC,OAAO,CAACC,GAAR,CAAYF,OAAZ,EADqC,CAErC;IACH,CAHA;EAIJ,CAhBY;;EAiBbG,OAAO,GAAE;IACL,IAAIP,IAAG,GAAIQ,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX;;IACA,IAAGT,IAAG,KAAM,IAAZ,EAAiB;MACbA,IAAG,GAAIU,IAAI,CAACC,KAAL,CAAWX,IAAX,CAAP;MACA,KAAKF,IAAL,CAAUC,eAAV,GAA4B,IAA5B;MACA,KAAKD,IAAL,CAAUE,IAAV,GAAiBA,IAAjB,CAHa,CAIb;IACJ;EAGH,CA3BY;;EA6BbY,OAAO,EAAC;IACJC,eAAe,CAACC,EAAD,EAAI,CAEnB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MAEA;IACC;;EApBG;AA7BK,CAAf","names":["axios","components","data","auth","isAuthenticated","user","mounted","emitter","on","nijosso","console","log","created","localStorage","getItem","JSON","parse","methods","setDeliveryData","id"],"sourceRoot":"","sources":["F:\\adminDeal\\src\\components\\pages\\user\\deliveryInfo.vue"],"sourcesContent":["<template>\n    <section class=\"pt-5 mb-4\">\n        <div class=\"container\">\n            <div class=\"row\">\n                <div class=\"col-xl-8 mx-auto\">\n                    <div class=\"row aiz-steps arrow-divider\">\n                        <div class=\"col done\">\n                            <div class=\"text-center text-success\">\n                                <i class=\"la-3x mb-2 las la-shopping-cart\"></i>\n                                <h3 class=\"fs-14 fw-600 d-none d-lg-block \">{{ '1. My Cart'}}</h3>\n                            </div>\n                        </div>\n                        <div class=\"col active\">\n                            <div class=\"text-center text-primary\">\n                                <i class=\"la-3x mb-2 las la-map\"></i>\n                                <h3 class=\"fs-14 fw-600 d-none d-lg-block \">{{ '2. Shipping info'}}</h3>\n                            </div>\n                        </div>\n                        <div class=\"col\">\n                            <div class=\"text-center\">\n                                <i class=\"la-3x mb-2 opacity-50 las la-truck\"></i>\n                                <h3 class=\"fs-14 fw-600 d-none d-lg-block opacity-50 \">{{ '3. Delivery info'}}</h3>\n                            </div>\n                        </div>\n                        <div class=\"col\">\n                            <div class=\"text-center\">\n                                <i class=\"la-3x mb-2 opacity-50 las la-credit-card\"></i>\n                                <h3 class=\"fs-14 fw-600 d-none d-lg-block opacity-50 \">{{ '4. Payment'}}</h3>\n                            </div>\n                        </div>\n                        <div class=\"col\">\n                            <div class=\"text-center\">\n                                <i class=\"la-3x mb-2 opacity-50 las la-check-circle\"></i>\n                                <h3 class=\"fs-14 fw-600 d-none d-lg-block opacity-50 \">{{ '5. Confirmation'}}</h3>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </section>\n\n    <!-- <section class=\"py-4 gry-bg\">\n    <div class=\"container\">\n        <div class=\"row\">\n            <div class=\"col-xxl-8 col-xl-10 mx-auto\">\n                <form class=\"form-default\" action=\"{{ route('checkout.store_delivery_info') }}\" role=\"form\" method=\"POST\">\n                    @csrf\n                    @php\n                        $admin_products = array();\n                        $seller_products = array();\n                        foreach ($carts as $key => $cartItem){\n                            $product = \\App\\Models\\Product::find($cartItem['product_id']);\n\n                            if($product->added_by == 'admin'){\n                                array_push($admin_products, $cartItem['product_id']);\n                            }\n                            else{\n                                $product_ids = array();\n                                if(isset($seller_products[$product->user_id])){\n                                    $product_ids = $seller_products[$product->user_id];\n                                }\n                                array_push($product_ids, $cartItem['product_id']);\n                                $seller_products[$product->user_id] = $product_ids;\n                            }\n                        }\n\t\t\t\t\t\t\n\t\t\t\t\t\t$pickup_point_list = array();\n\t\t\t\t\t\tif (get_setting('pickup_point') == 1) {\n\t\t\t\t\t\t\t$pickup_point_list = \\App\\Models\\PickupPoint::where('pick_up_status',1)->get();\n\t\t\t\t\t\t}\n                    @endphp\n                    @if (!empty($admin_products))\n                    <div class=\"card mb-3 shadow-sm border-0 rounded\">\n                        <div class=\"card-header p-3\">\n                            <h5 class=\"fs-16 fw-600 mb-0\">{{ get_setting('site_name') }} {{ translate('Products') }}</h5>\n                        </div>\n                        <div class=\"card-body\">\n                            <ul class=\"list-group list-group-flush\">\n                                @foreach ($admin_products as $key => $cartItem)\n                                @php\n                                    $product = \\App\\Models\\Product::find($cartItem);\n                                @endphp\n                                <li class=\"list-group-item\">\n                                    <div class=\"d-flex\">\n                                        <span class=\"mr-2\">\n                                            <img\n                                                src=\"{{ uploaded_asset($product->thumbnail_img) }}\"\n                                                class=\"img-fit size-60px rounded\"\n                                                alt=\"{{  $product->getTranslation('name')  }}\"\n                                            >\n                                        </span>\n                                        <span class=\"fs-14 opacity-60\">{{ $product->getTranslation('name') }}</span>\n                                    </div>\n                                </li>\n                                @endforeach\n                            </ul>\n                            <div class=\"row border-top pt-3\">\n                                <div class=\"col-md-6\">\n                                    <h6 class=\"fs-15 fw-600\">{{ translate('Choose Delivery Type') }}</h6>\n                                </div>\n                                <div class=\"col-md-6\">\n                                    <div class=\"row gutters-5\">\n                                        @if (get_setting('shipping_type') != 'carrier_wise_shipping')\n                                        <div class=\"col-6\">\n                                            <label class=\"aiz-megabox d-block bg-white mb-0\">\n                                                <input\n                                                    type=\"radio\"\n                                                    name=\"shipping_type_{{ \\App\\Models\\User::where('user_type', 'admin')->first()->id }}\"\n                                                    value=\"home_delivery\"\n                                                    onchange=\"show_pickup_point(this, 'admin')\"\n                                                    data-target=\".pickup_point_id_admin\"\n                                                    checked\n                                                >\n                                                <span class=\"d-flex p-3 aiz-megabox-elem\">\n                                                    <span class=\"aiz-rounded-check flex-shrink-0 mt-1\"></span>\n                                                    <span class=\"flex-grow-1 pl-3 fw-600\">{{  translate('Home Delivery') }}</span>\n                                                </span>\n                                            </label>\n                                        </div>\n                                        @else\n                                        <div class=\"col-6\">\n                                            <label class=\"aiz-megabox d-block bg-white mb-0\">\n                                                <input\n                                                    type=\"radio\"\n                                                    name=\"shipping_type_{{ \\App\\Models\\User::where('user_type', 'admin')->first()->id }}\"\n                                                    value=\"carrier\"\n                                                    onchange=\"show_pickup_point(this, 'admin')\"\n                                                    data-target=\".pickup_point_id_admin\"\n                                                    checked\n                                                >\n                                                <span class=\"d-flex p-3 aiz-megabox-elem\">\n                                                    <span class=\"aiz-rounded-check flex-shrink-0 mt-1\"></span>\n                                                    <span class=\"flex-grow-1 pl-3 fw-600\">{{  translate('Carrier') }}</span>\n                                                </span>\n                                            </label>\n                                        </div>\n                                        @endif\n\n                                        @if ($pickup_point_list)\n                                        <div class=\"col-6\">\n                                            <label class=\"aiz-megabox d-block bg-white mb-0\">\n                                                <input\n                                                    type=\"radio\"\n                                                    name=\"shipping_type_{{ \\App\\Models\\User::where('user_type', 'admin')->first()->id }}\"\n                                                    value=\"pickup_point\"\n                                                    onchange=\"show_pickup_point(this, 'admin')\"\n                                                    data-target=\".pickup_point_id_admin\"\n                                                >\n                                                <span class=\"d-flex p-3 aiz-megabox-elem\">\n                                                    <span class=\"aiz-rounded-check flex-shrink-0 mt-1\"></span>\n                                                    <span class=\"flex-grow-1 pl-3 fw-600\">{{  translate('Local Pickup') }}</span>\n                                                </span>\n                                            </label>\n                                        </div>\n                                        @endif\n                                        \n                                    </div>\n                                    @if ($pickup_point_list)\n                                    <div class=\"mt-4 pickup_point_id_admin d-none\">\n                                        <select\n                                            class=\"form-control aiz-selectpicker\"\n                                            name=\"pickup_point_id_{{ \\App\\Models\\User::where('user_type', 'admin')->first()->id }}\"\n                                            data-live-search=\"true\"\n                                        >\n                                                <option>{{ translate('Select your nearest pickup point')}}</option>\n                                            @foreach ($pickup_point_list as $pick_up_point)\n                                                <option\n                                                    value=\"{{ $pick_up_point->id }}\"\n                                                    data-content=\"<span class='d-block'>\n                                                                    <span class='d-block fs-16 fw-600 mb-2'>{{ $pick_up_point->getTranslation('name') }}</span>\n                                                                    <span class='d-block opacity-50 fs-12'><i class='las la-map-marker'></i> {{ $pick_up_point->getTranslation('address') }}</span>\n                                                                    <span class='d-block opacity-50 fs-12'><i class='las la-phone'></i>{{ $pick_up_point->phone }}</span>\n                                                                </span>\"\n                                                >\n                                                </option>\n                                            @endforeach\n                                        </select>\n                                    </div>\n                                    @endif\n                                </div>\n                            </div>\n                            @if (get_setting('shipping_type') == 'carrier_wise_shipping')\n                            <div class=\"row pt-3 carrier_id_admin\">\n                                @foreach($carrier_list as $carrier_key => $carrier)\n                                    <div class=\"col-md-12 mb-2\">\n                                        <label class=\"aiz-megabox d-block bg-white mb-0\">\n                                            <input\n                                                type=\"radio\"\n                                                name=\"carrier_id_{{ \\App\\Models\\User::where('user_type', 'admin')->first()->id }}\"\n                                                value=\"{{ $carrier->id }}\"\n                                                @if($carrier_key == 0) checked @endif\n                                            >\n                                            <span class=\"d-flex p-3 aiz-megabox-elem\">\n                                                <span class=\"aiz-rounded-check flex-shrink-0 mt-1\"></span>\n                                                <span class=\"flex-grow-1 pl-3 fw-600\">\n                                                    <img src=\"{{ uploaded_asset($carrier->logo)}}\" alt=\"Image\" class=\"w-50px img-fit\">\n                                                </span>\n                                                <span class=\"flex-grow-1 pl-3 fw-700\">{{ $carrier->name }}</span>\n                                                <span class=\"flex-grow-1 pl-3 fw-600\">{{ translate('Transit in').' '.$carrier->transit_time.' '.translate('days') }}</span>\n                                                {{-- <span class=\"flex-grow-1 pl-3 fw-600\">{{ Str::headline($carrier->carrier_ranges->first()->billing_type) }}</span> --}}\n                                                <span class=\"flex-grow-1 pl-3 fw-600\">{{ single_price(carrier_base_price($carts, $carrier->id, \\App\\Models\\User::where('user_type', 'admin')->first()->id)) }}</span>\n                                            </span>\n                                        </label>\n                                    </div>\n                                @endforeach\n                            </div>\n                            @endif\n                        </div>\n                    </div>\n                    @endif\n                    @if (!empty($seller_products))\n                        @foreach ($seller_products as $key => $seller_product)\n                            <div class=\"card mb-3 shadow-sm border-0 rounded\">\n                                <div class=\"card-header p-3\">\n                                    <h5 class=\"fs-16 fw-600 mb-0\">{{ \\App\\Models\\Shop::where('user_id', $key)->first()->name }} {{ translate('Products') }}</h5>\n                                </div>\n                                <div class=\"card-body\">\n                                    <ul class=\"list-group list-group-flush\">\n                                        @foreach ($seller_product as $cartItem)\n                                        @php\n                                            $product = \\App\\Models\\Product::find($cartItem);\n                                        @endphp\n                                        <li class=\"list-group-item\">\n                                            <div class=\"d-flex\">\n                                                <span class=\"mr-2\">\n                                                    <img\n                                                        src=\"{{ uploaded_asset($product->thumbnail_img) }}\"\n                                                        class=\"img-fit size-60px rounded\"\n                                                        alt=\"{{  $product->getTranslation('name')  }}\"\n                                                    >\n                                                </span>\n                                                <span class=\"fs-14 opacity-60\">{{ $product->getTranslation('name') }}</span>\n                                            </div>\n                                        </li>\n                                        @endforeach\n                                    </ul>\n                                    <div class=\"row border-top pt-3\">\n                                        <div class=\"col-md-6\">\n                                            <h6 class=\"fs-15 fw-600\">{{ translate('Choose Delivery Type') }}</h6>\n                                        </div>\n                                        <div class=\"col-md-6\">\n                                            <div class=\"row gutters-5\">\n                                                @if (get_setting('shipping_type') != 'carrier_wise_shipping')\n                                                <div class=\"col-6\">\n                                                    <label class=\"aiz-megabox d-block bg-white mb-0\">\n                                                        <input\n                                                            type=\"radio\"\n                                                            name=\"shipping_type_{{ $key }}\"\n                                                            value=\"home_delivery\"\n                                                            onchange=\"show_pickup_point(this, {{ $key }})\"\n                                                            data-target=\".pickup_point_id_{{ $key }}\"\n                                                            checked\n                                                        >\n                                                        <span class=\"d-flex p-3 aiz-megabox-elem\">\n                                                            <span class=\"aiz-rounded-check flex-shrink-0 mt-1\"></span>\n                                                            <span class=\"flex-grow-1 pl-3 fw-600\">{{  translate('Home Delivery') }}</span>\n                                                        </span>\n                                                    </label>\n                                                </div>\n                                                @else\n                                                <div class=\"col-6\">\n                                                    <label class=\"aiz-megabox d-block bg-white mb-0\">\n                                                        <input\n                                                            type=\"radio\"\n                                                            name=\"shipping_type_{{ $key }}\"\n                                                            value=\"carrier\"\n                                                            onchange=\"show_pickup_point(this, {{ $key }})\"\n                                                            data-target=\".pickup_point_id_{{ $key }}\"\n                                                            checked\n                                                        >\n                                                        <span class=\"d-flex p-3 aiz-megabox-elem\">\n                                                            <span class=\"aiz-rounded-check flex-shrink-0 mt-1\"></span>\n                                                            <span class=\"flex-grow-1 pl-3 fw-600\">{{  translate('Carrier') }}</span>\n                                                        </span>\n                                                    </label>\n                                                </div>\n                                                @endif\n\n                                                @if ($pickup_point_list)\n                                                    <div class=\"col-6\">\n                                                        <label class=\"aiz-megabox d-block bg-white mb-0\">\n                                                            <input\n                                                                type=\"radio\"\n                                                                name=\"shipping_type_{{ $key }}\"\n                                                                value=\"pickup_point\"\n                                                                onchange=\"show_pickup_point(this, {{ $key }})\"\n                                                                data-target=\".pickup_point_id_{{ $key }}\"\n                                                            >\n                                                            <span class=\"d-flex p-3 aiz-megabox-elem\">\n                                                                <span class=\"aiz-rounded-check flex-shrink-0 mt-1\"></span>\n                                                                <span class=\"flex-grow-1 pl-3 fw-600\">{{  translate('Local Pickup') }}</span>\n                                                            </span>\n                                                        </label>\n                                                    </div>\n                                                @endif\n                                            </div>\n                                            @if ($pickup_point_list)\n                                                <div class=\"mt-4 pickup_point_id_{{ $key }} d-none\">\n                                                    <select\n                                                        class=\"form-control aiz-selectpicker\"\n                                                        name=\"pickup_point_id_{{ $key }}\"\n                                                        data-live-search=\"true\"\n                                                    >\n                                                        <option>{{ translate('Select your nearest pickup point')}}</option>\n                                                            @foreach ($pickup_point_list as $pick_up_point)\n                                                            <option\n                                                                value=\"{{ $pick_up_point->id }}\"\n                                                                data-content=\"<span class='d-block'>\n                                                                                <span class='d-block fs-16 fw-600 mb-2'>{{ $pick_up_point->getTranslation('name') }}</span>\n                                                                                <span class='d-block opacity-50 fs-12'><i class='las la-map-marker'></i> {{ $pick_up_point->getTranslation('address') }}</span>\n                                                                                <span class='d-block opacity-50 fs-12'><i class='las la-phone'></i>{{ $pick_up_point->phone }}</span>\n                                                                            </span>\"\n                                                            >\n                                                            </option>\n                                                            @endforeach\n                                                    </select>\n                                                </div>\n                                            @endif\n                                        </div>\n                                    </div>\n                                    \n                                    @if (get_setting('shipping_type') == 'carrier_wise_shipping')\n                                        <div class=\"row pt-3 carrier_id_{{ $key }}\">\n                                            @foreach($carrier_list as $carrier_key => $carrier)\n                                                <div class=\"col-md-12 mb-2\">\n                                                    <label class=\"aiz-megabox d-block bg-white mb-0\">\n                                                        <input\n                                                            type=\"radio\"\n                                                            name=\"carrier_id_{{ $key }}\"\n                                                            value=\"{{ $carrier->id }}\"\n                                                            @if($carrier_key == 0) checked @endif\n                                                        >\n                                                        <span class=\"d-flex p-3 aiz-megabox-elem\">\n                                                            <span class=\"aiz-rounded-check flex-shrink-0 mt-1\"></span>\n                                                            <span class=\"flex-grow-1 pl-3 fw-600\">\n                                                                <img src=\"{{ uploaded_asset($carrier->logo)}}\" alt=\"Image\" class=\"w-50px img-fit\">\n                                                            </span>\n                                                            <span class=\"flex-grow-1 pl-3 fw-600\">{{ $carrier->name }}</span>\n                                                            <span class=\"flex-grow-1 pl-3 fw-600\">{{ translate('Transit in').' '.$carrier->transit_time.' '.translate('days') }}</span>\n                                                            {{-- <span class=\"flex-grow-1 pl-3 fw-600\">{{ Str::headline($carrier->carrier_ranges->first()->billing_type) }}</span> --}}\n                                                            <span class=\"flex-grow-1 pl-3 fw-600\">{{ single_price(carrier_base_price($carts, $carrier->id, $key)) }}</span>\n                                                        </span>\n                                                    </label>\n                                                </div>\n                                            @endforeach\n                                        </div>\n                                    @endif\n                                </div>\n                            </div>\n                        @endforeach\n                    @endif\n\n                    <div class=\"pt-4 d-flex justify-content-between align-items-center\">\n                        <a href=\"{{ route('home') }}\" >\n                            <i class=\"la la-angle-left\"></i>\n                            {{ translate('Return to shop')}}\n                        </a>\n                        <button type=\"submit\" class=\"btn fw-600 btn-primary\">{{ translate('Continue to Payment')}}</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n    </section> -->\n\n</template>\n  \n  <script>\n\n  import axios from 'axios';\n  export default {\n    components:{},\n    data(){\n      return{\n        auth:{\n          isAuthenticated: false,\n          user: {},\n        },\n       \n      }\n    },\n     mounted(){\n         this.emitter.on(\"addressId\", nijosso => {\n            console.log(nijosso);\n            //  setDeliveryData(id);\n        });\n    },\n    created(){\n        var user = localStorage.getItem(\"user\");\n        if(user !== null){\n            user = JSON.parse(user);\n            this.auth.isAuthenticated = true;\n            this.auth.user = user;\n            // this.setDeliveryData();\n        }\n\n       \n    },\n\n    methods:{\n        setDeliveryData(id){\n\n        //     axios.get(this.selfDomain+\"vueweb/checkout/delivery_info\", {\n        //       params:{\n        //         address_id: address_id,\n        //       },\n        //       headers: {\n        //         Authorization: \"Bearer \" + this.auth.user.access_token,\n        //       }\n        //   }).then(res=>{\n        //     // console.log(res.data);\n        //     this.emitter.emit(\"addressId\", address_id);\n        //     this.$router.push({\n        //         name: \"deliveryInfo\",\n        //     });\n\n        //   }).catch(err=>{\n\n        //   });\n        },\n        \n    }\n  }\n  </script>\n  \n  <style>\n  \n  </style>"]},"metadata":{},"sourceType":"module"}
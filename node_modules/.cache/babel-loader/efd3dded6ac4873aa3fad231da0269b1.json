{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      auth: {\n        isAuthenticated: false,\n        user: {}\n      }\n    };\n  },\n\n  created() {\n    var user = localStorage.getItem(\"user\");\n\n    if (user !== null) {\n      user = JSON.parse(user);\n      this.auth.isAuthenticated = true;\n      this.auth.user = user;\n      let ele = document.getElementsByTagName('body');\n      ele[0].classList.add(\"modal-open\");\n      this.getMap();\n    }\n  },\n\n  methods: {\n    hidModal() {\n      this.emitter.emit(\"addressModal\", false);\n      let ele = document.getElementsByTagName('body');\n      ele[0].classList.remove(\"modal-open\");\n    },\n\n    getMap() {\n      function initialize(lat = -33.8688, long = 151.2195, id_format = '') {\n        var map = new google.maps.Map(document.getElementById(id_format + 'map'), {\n          center: {\n            lat: lat,\n            lng: long\n          },\n          zoom: 13\n        });\n        var myLatlng = new google.maps.LatLng(lat, long);\n        var input = document.getElementById(id_format + 'searchInput'); //                console.log(input);\n\n        map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);\n        var autocomplete = new google.maps.places.Autocomplete(input);\n        autocomplete.bindTo('bounds', map);\n        var infowindow = new google.maps.InfoWindow();\n        var marker = new google.maps.Marker({\n          map: map,\n          position: myLatlng,\n          anchorPoint: new google.maps.Point(0, -29),\n          draggable: true\n        });\n        map.addListener('click', function (event) {\n          marker.setPosition(event.latLng);\n          document.getElementById(id_format + 'latitude').value = event.latLng.lat();\n          document.getElementById(id_format + 'longitude').value = event.latLng.lng();\n          infowindow.setContent('Latitude: ' + event.latLng.lat() + '<br>Longitude: ' + event.latLng.lng());\n          infowindow.open(map, marker);\n        });\n        google.maps.event.addListener(marker, 'dragend', function (event) {\n          document.getElementById(id_format + 'latitude').value = event.latLng.lat();\n          document.getElementById(id_format + 'longitude').value = event.latLng.lng();\n          infowindow.setContent('Latitude: ' + event.latLng.lat() + '<br>Longitude: ' + event.latLng.lng());\n          infowindow.open(map, marker);\n        });\n        autocomplete.addListener('place_changed', function () {\n          infowindow.close();\n          marker.setVisible(false);\n          var place = autocomplete.getPlace();\n\n          if (!place.geometry) {\n            window.alert(\"Autocomplete's returned place contains no geometry\");\n            return;\n          } // If the place has a geometry, then present it on a map.\n\n\n          if (place.geometry.viewport) {\n            map.fitBounds(place.geometry.viewport);\n          } else {\n            map.setCenter(place.geometry.location);\n            map.setZoom(17);\n          }\n          /*\r\n          marker.setIcon(({\r\n              url: place.icon,\r\n              size: new google.maps.Size(71, 71),\r\n              origin: new google.maps.Point(0, 0),\r\n              anchor: new google.maps.Point(17, 34),\r\n              scaledSize: new google.maps.Size(35, 35)\r\n          }));\r\n          */\n\n\n          marker.setPosition(place.geometry.location);\n          marker.setVisible(true);\n          var address = '';\n\n          if (place.address_components) {\n            address = [place.address_components[0] && place.address_components[0].short_name || '', place.address_components[1] && place.address_components[1].short_name || '', place.address_components[2] && place.address_components[2].short_name || ''].join(' ');\n          }\n\n          infowindow.setContent('<div><strong>' + place.name + '</strong><br>' + address);\n          infowindow.open(map, marker); //Location details\n\n          for (var i = 0; i < place.address_components.length; i++) {\n            if (place.address_components[i].types[0] == 'postal_code') {\n              document.getElementById('postal_code').innerHTML = place.address_components[i].long_name;\n            }\n\n            if (place.address_components[i].types[0] == 'country') {\n              document.getElementById('country').innerHTML = place.address_components[i].long_name;\n            }\n          }\n\n          document.getElementById('location').innerHTML = place.formatted_address;\n          document.getElementById(id_format + 'latitude').value = place.geometry.location.lat();\n          document.getElementById(id_format + 'longitude').value = place.geometry.location.lng();\n        });\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAyIA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe;EACXC,IAAI,GAAE;IACJ,OAAM;MACJC,IAAI,EAAC;QACDC,eAAe,EAAE,KADhB;QAEDC,IAAI,EAAE;MAFL;IADD,CAAN;EAOD,CATU;;EAUXC,OAAO,GAAE;IACP,IAAID,IAAG,GAAIE,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX;;IACE,IAAGH,IAAG,KAAM,IAAZ,EAAiB;MACbA,IAAG,GAAII,IAAI,CAACC,KAAL,CAAWL,IAAX,CAAP;MACA,KAAKF,IAAL,CAAUC,eAAV,GAA4B,IAA5B;MACA,KAAKD,IAAL,CAAUE,IAAV,GAAiBA,IAAjB;MACA,IAAIM,GAAE,GAAIC,QAAQ,CAACC,oBAAT,CAA8B,MAA9B,CAAV;MACAF,GAAG,CAAC,CAAD,CAAH,CAAOG,SAAP,CAAiBC,GAAjB,CAAqB,YAArB;MACA,KAAKC,MAAL;IACJ;EACH,CApBU;;EAqBXC,OAAO,EAAC;IACJC,QAAQ,GAAE;MACN,KAAKC,OAAL,CAAaC,IAAb,CAAkB,cAAlB,EAAkC,KAAlC;MACA,IAAIT,GAAE,GAAIC,QAAQ,CAACC,oBAAT,CAA8B,MAA9B,CAAV;MACAF,GAAG,CAAC,CAAD,CAAH,CAAOG,SAAP,CAAiBO,MAAjB,CAAwB,YAAxB;IACH,CALG;;IAMJL,MAAM,GAAE;MACJ,SAASM,UAAT,CAAoBC,GAAG,GAAC,CAAC,OAAzB,EAAkCC,IAAI,GAAC,QAAvC,EAAiDC,SAAS,GAAC,EAA3D,EAA+D;QAC3D,IAAIC,GAAE,GAAI,IAAIC,MAAM,CAACC,IAAP,CAAYC,GAAhB,CAAoBjB,QAAQ,CAACkB,cAAT,CAAwBL,SAAQ,GAAI,KAApC,CAApB,EAAgE;UACtEM,MAAM,EAAE;YAACR,GAAG,EAAEA,GAAN;YAAWS,GAAG,EAAER;UAAhB,CAD8D;UAEtES,IAAI,EAAE;QAFgE,CAAhE,CAAV;QAKA,IAAIC,QAAO,GAAI,IAAIP,MAAM,CAACC,IAAP,CAAYO,MAAhB,CAAuBZ,GAAvB,EAA4BC,IAA5B,CAAf;QAEA,IAAIY,KAAI,GAAIxB,QAAQ,CAACkB,cAAT,CAAwBL,SAAQ,GAAI,aAApC,CAAZ,CAR2D,CASnE;;QACQC,GAAG,CAACW,QAAJ,CAAaV,MAAM,CAACC,IAAP,CAAYU,eAAZ,CAA4BC,QAAzC,EAAmDC,IAAnD,CAAwDJ,KAAxD;QAEA,IAAIK,YAAW,GAAI,IAAId,MAAM,CAACC,IAAP,CAAYc,MAAZ,CAAmBC,YAAvB,CAAoCP,KAApC,CAAnB;QAEAK,YAAY,CAACG,MAAb,CAAoB,QAApB,EAA8BlB,GAA9B;QAEA,IAAImB,UAAS,GAAI,IAAIlB,MAAM,CAACC,IAAP,CAAYkB,UAAhB,EAAjB;QACA,IAAIC,MAAK,GAAI,IAAIpB,MAAM,CAACC,IAAP,CAAYoB,MAAhB,CAAuB;UACpBtB,GAAG,EAAEA,GADe;UAEpBuB,QAAQ,EAAEf,QAFU;UAGpBgB,WAAW,EAAE,IAAIvB,MAAM,CAACC,IAAP,CAAYuB,KAAhB,CAAsB,CAAtB,EAAyB,CAAC,EAA1B,CAHO;UAIpBC,SAAS,EAAC;QAJU,CAAvB,CAAb;QAOA1B,GAAG,CAAC2B,WAAJ,CAAgB,OAAhB,EAAwB,UAASC,KAAT,EAAgB;UACpCP,MAAM,CAACQ,WAAP,CAAmBD,KAAK,CAACE,MAAzB;UACA5C,QAAQ,CAACkB,cAAT,CAAwBL,SAAQ,GAAI,UAApC,EAAgDgC,KAAhD,GAAwDH,KAAK,CAACE,MAAN,CAAajC,GAAb,EAAxD;UACAX,QAAQ,CAACkB,cAAT,CAAwBL,SAAS,GAAE,WAAnC,EAAgDgC,KAAhD,GAAwDH,KAAK,CAACE,MAAN,CAAaxB,GAAb,EAAxD;UACAa,UAAU,CAACa,UAAX,CAAsB,eAAeJ,KAAK,CAACE,MAAN,CAAajC,GAAb,EAAf,GAAoC,iBAApC,GAAwD+B,KAAK,CAACE,MAAN,CAAaxB,GAAb,EAA9E;UACAa,UAAU,CAACc,IAAX,CAAgBjC,GAAhB,EAAoBqB,MAApB;QACH,CAND;QAQApB,MAAM,CAACC,IAAP,CAAY0B,KAAZ,CAAkBD,WAAlB,CAA8BN,MAA9B,EAAqC,SAArC,EAA+C,UAASO,KAAT,EAAgB;UAC3D1C,QAAQ,CAACkB,cAAT,CAAwBL,SAAQ,GAAI,UAApC,EAAgDgC,KAAhD,GAAwDH,KAAK,CAACE,MAAN,CAAajC,GAAb,EAAxD;UACAX,QAAQ,CAACkB,cAAT,CAAwBL,SAAQ,GAAI,WAApC,EAAiDgC,KAAjD,GAAyDH,KAAK,CAACE,MAAN,CAAaxB,GAAb,EAAzD;UACAa,UAAU,CAACa,UAAX,CAAsB,eAAeJ,KAAK,CAACE,MAAN,CAAajC,GAAb,EAAf,GAAoC,iBAApC,GAAwD+B,KAAK,CAACE,MAAN,CAAaxB,GAAb,EAA9E;UACAa,UAAU,CAACc,IAAX,CAAgBjC,GAAhB,EAAoBqB,MAApB;QACH,CALD;QAOAN,YAAY,CAACY,WAAb,CAAyB,eAAzB,EAA0C,YAAW;UACjDR,UAAU,CAACe,KAAX;UACAb,MAAM,CAACc,UAAP,CAAkB,KAAlB;UACA,IAAIC,KAAI,GAAIrB,YAAY,CAACsB,QAAb,EAAZ;;UAEA,IAAI,CAACD,KAAK,CAACE,QAAX,EAAqB;YACjBC,MAAM,CAACC,KAAP,CAAa,oDAAb;YACA;UACJ,CARiD,CAUjD;;;UACA,IAAIJ,KAAK,CAACE,QAAN,CAAeG,QAAnB,EAA6B;YACzBzC,GAAG,CAAC0C,SAAJ,CAAcN,KAAK,CAACE,QAAN,CAAeG,QAA7B;UACJ,CAFA,MAEO;YACHzC,GAAG,CAAC2C,SAAJ,CAAcP,KAAK,CAACE,QAAN,CAAeM,QAA7B;YACA5C,GAAG,CAAC6C,OAAJ,CAAY,EAAZ;UACJ;UACA;;;;;;;;;;;UASAxB,MAAM,CAACQ,WAAP,CAAmBO,KAAK,CAACE,QAAN,CAAeM,QAAlC;UACAvB,MAAM,CAACc,UAAP,CAAkB,IAAlB;UAEA,IAAIW,OAAM,GAAI,EAAd;;UACA,IAAIV,KAAK,CAACW,kBAAV,EAA8B;YAC1BD,OAAM,GAAI,CACLV,KAAK,CAACW,kBAAN,CAAyB,CAAzB,KAA+BX,KAAK,CAACW,kBAAN,CAAyB,CAAzB,EAA4BC,UAA3D,IAAyE,EADpE,EAELZ,KAAK,CAACW,kBAAN,CAAyB,CAAzB,KAA+BX,KAAK,CAACW,kBAAN,CAAyB,CAAzB,EAA4BC,UAA3D,IAAyE,EAFpE,EAGLZ,KAAK,CAACW,kBAAN,CAAyB,CAAzB,KAA+BX,KAAK,CAACW,kBAAN,CAAyB,CAAzB,EAA4BC,UAA3D,IAAyE,EAHpE,EAIRC,IAJQ,CAIH,GAJG,CAAV;UAKJ;;UAEA9B,UAAU,CAACa,UAAX,CAAsB,kBAAkBI,KAAK,CAACc,IAAxB,GAA+B,eAA/B,GAAiDJ,OAAvE;UACA3B,UAAU,CAACc,IAAX,CAAgBjC,GAAhB,EAAqBqB,MAArB,EAvCiD,CAyCjD;;UACA,KAAK,IAAI8B,IAAI,CAAb,EAAgBA,IAAIf,KAAK,CAACW,kBAAN,CAAyBK,MAA7C,EAAqDD,CAAC,EAAtD,EAA0D;YACtD,IAAGf,KAAK,CAACW,kBAAN,CAAyBI,CAAzB,EAA4BE,KAA5B,CAAkC,CAAlC,KAAwC,aAA3C,EAAyD;cACrDnE,QAAQ,CAACkB,cAAT,CAAwB,aAAxB,EAAuCkD,SAAvC,GAAmDlB,KAAK,CAACW,kBAAN,CAAyBI,CAAzB,EAA4BI,SAA/E;YACJ;;YACA,IAAGnB,KAAK,CAACW,kBAAN,CAAyBI,CAAzB,EAA4BE,KAA5B,CAAkC,CAAlC,KAAwC,SAA3C,EAAqD;cACjDnE,QAAQ,CAACkB,cAAT,CAAwB,SAAxB,EAAmCkD,SAAnC,GAA+ClB,KAAK,CAACW,kBAAN,CAAyBI,CAAzB,EAA4BI,SAA3E;YACJ;UACJ;;UACArE,QAAQ,CAACkB,cAAT,CAAwB,UAAxB,EAAoCkD,SAApC,GAAgDlB,KAAK,CAACoB,iBAAtD;UACAtE,QAAQ,CAACkB,cAAT,CAAwBL,SAAQ,GAAI,UAApC,EAAgDgC,KAAhD,GAAwDK,KAAK,CAACE,QAAN,CAAeM,QAAf,CAAwB/C,GAAxB,EAAxD;UACAX,QAAQ,CAACkB,cAAT,CAAwBL,SAAQ,GAAI,WAApC,EAAiDgC,KAAjD,GAAyDK,KAAK,CAACE,QAAN,CAAeM,QAAf,CAAwBtC,GAAxB,EAAzD;QACH,CArDD;MAsDJ;IACJ;;EArGI;AArBG,CAAf","names":["axios","data","auth","isAuthenticated","user","created","localStorage","getItem","JSON","parse","ele","document","getElementsByTagName","classList","add","getMap","methods","hidModal","emitter","emit","remove","initialize","lat","long","id_format","map","google","maps","Map","getElementById","center","lng","zoom","myLatlng","LatLng","input","controls","ControlPosition","TOP_LEFT","push","autocomplete","places","Autocomplete","bindTo","infowindow","InfoWindow","marker","Marker","position","anchorPoint","Point","draggable","addListener","event","setPosition","latLng","value","setContent","open","close","setVisible","place","getPlace","geometry","window","alert","viewport","fitBounds","setCenter","location","setZoom","address","address_components","short_name","join","name","i","length","types","innerHTML","long_name","formatted_address"],"sourceRoot":"","sources":["C:\\VUE\\adminDeal\\src\\components\\layouts\\Modal\\addressModal.vue"],"sourcesContent":["<template>\r\n    <a @click=\"hidModal()\" class=\"sb-lightbox-overlay; pointer: normal;\" style=\" position: fixed;width: 100%;height: 100%;top: 0;right: 0;left: 0;bottom: 0;z-index: 100;background-color: rgba(0, 0, 0, 0.6);display: block;animation: sb-fade-animation;\"></a>\r\n    <div class=\"modal fade show\" style=\"z-index: 1040; display: block; padding-right: 17px;\" id=\"new-address-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{ 'New Address' }}</h5>\r\n                <button @click=\"hidModal()\" type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n            </div>\r\n            <form class=\"form-default\" role=\"form\" action=\"{{'addresses.store' }}\" method=\"POST\">\r\n                <div class=\"modal-body\">\r\n                    <div class=\"p-3\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-2\">\r\n                                <label>{{ 'Address'}}</label>\r\n                            </div>\r\n                            <div class=\"col-md-10\">\r\n                                <textarea class=\"form-control mb-3\" placeholder=\"{{ 'Your Address'}}\" rows=\"2\" name=\"address\" required></textarea>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-2\">\r\n                                <label>{{ 'Country'}}</label>\r\n                            </div>\r\n                            <div class=\"col-md-10\">\r\n                                <div class=\"mb-3\">\r\n                                    <select class=\"form-control aiz-selectpicker\" data-live-search=\"true\" data-placeholder=\"{{ 'Select your country' }}\" name=\"country_id\" required>\r\n                                        <option value=\"\">{{ 'Select your country' }}</option>\r\n                                        <!-- @foreach (\\App\\Models\\Country::where('status', 1)->get() as $key => $country)\r\n                                            <option value=\"{{ $country->id }}\">{{ $country->name }}</option>\r\n                                        @endforeach -->\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-2\">\r\n                                <label>{{ 'State'}}</label>\r\n                            </div>\r\n                            <div class=\"col-md-10\">\r\n                                <select class=\"form-control mb-3 aiz-selectpicker\" data-live-search=\"true\" name=\"state_id\" required>\r\n\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-2\">\r\n                                <label>{{ 'City'}}</label>\r\n                            </div>\r\n                            <div class=\"col-md-10\">\r\n                                <select class=\"form-control mb-3 aiz-selectpicker\" data-live-search=\"true\" name=\"city_id\" required>\r\n\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n\r\n                        @if (get_setting('google_map') == 1)\r\n                            <div class=\"row\">\r\n                                <input id=\"searchInput\" class=\"controls\" type=\"text\" placeholder=\"{{'Enter a location'}}\">\r\n                                <div id=\"map\"></div>\r\n                                <ul id=\"geoData\">\r\n                                    <li style=\"display: none;\">Full Address: <span id=\"location\"></span></li>\r\n                                    <li style=\"display: none;\">Postal Code: <span id=\"postal_code\"></span></li>\r\n                                    <li style=\"display: none;\">Country: <span id=\"country\"></span></li>\r\n                                    <li style=\"display: none;\">Latitude: <span id=\"lat\"></span></li>\r\n                                    <li style=\"display: none;\">Longitude: <span id=\"lon\"></span></li>\r\n                                </ul>\r\n                            </div>\r\n\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-2\" id=\"\">\r\n                                    <label for=\"exampleInputuname\">Longitude</label>\r\n                                </div>\r\n                                <div class=\"col-md-10\" id=\"\">\r\n                                    <input type=\"text\" class=\"form-control mb-3\" id=\"longitude\" name=\"longitude\" readonly=\"\">\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-2\" id=\"\">\r\n                                    <label for=\"exampleInputuname\">Latitude</label>\r\n                                </div>\r\n                                <div class=\"col-md-10\" id=\"\">\r\n                                    <input type=\"text\" class=\"form-control mb-3\" id=\"latitude\" name=\"latitude\" readonly=\"\">\r\n                                </div>\r\n                            </div>\r\n                        @endif\r\n                        \r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-2\">\r\n                                <label>{{ 'Postal code'}}</label>\r\n                            </div>\r\n                            <div class=\"col-md-10\">\r\n                                <input type=\"text\" class=\"form-control mb-3\" placeholder=\"{{ 'Your Postal Code'}}\" name=\"postal_code\" value=\"\" required>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-2\">\r\n                                <label>{{ 'Phone'}}</label>\r\n                            </div>\r\n                            <div class=\"col-md-10\">\r\n                                <input type=\"text\" class=\"form-control mb-3\" placeholder=\"{{ '+880'}}\" name=\"phone\" value=\"\" required>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group text-right\">\r\n                            <button type=\"submit\" class=\"btn btn-sm btn-primary\">{{'Save'}}</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal fade\" id=\"edit-address-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{ 'New Address' }}</h5>\r\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n            </div>\r\n            <div class=\"modal-body\" id=\"edit_modal_body\">\r\n    \r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n</template>\r\n\r\n<!-- <script src=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyBx8Ged-Hntnvs9kfv48zUnathey0QxvXI&libraries=places&language=en&callback=initialize\" async defer></script> -->\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n    data(){\r\n      return{\r\n        auth:{\r\n            isAuthenticated: false,\r\n            user: {},\r\n        },\r\n       \r\n      }\r\n    },\r\n    created(){\r\n      var user = localStorage.getItem(\"user\");\r\n        if(user !== null){\r\n            user = JSON.parse(user);\r\n            this.auth.isAuthenticated = true;\r\n            this.auth.user = user;\r\n            let ele = document.getElementsByTagName('body');\r\n            ele[0].classList.add(\"modal-open\");\r\n            this.getMap();\r\n        }\r\n    },\r\n    methods:{\r\n        hidModal(){\r\n            this.emitter.emit(\"addressModal\", false);\r\n            let ele = document.getElementsByTagName('body');\r\n            ele[0].classList.remove(\"modal-open\");\r\n        },\r\n        getMap(){\r\n            function initialize(lat=-33.8688, long=151.2195, id_format='') {\r\n                var map = new google.maps.Map(document.getElementById(id_format + 'map'), {\r\n                    center: {lat: lat, lng: long},\r\n                    zoom: 13\r\n                });\r\n\r\n                var myLatlng = new google.maps.LatLng(lat, long);\r\n\r\n                var input = document.getElementById(id_format + 'searchInput');\r\n        //                console.log(input);\r\n                map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);\r\n\r\n                var autocomplete = new google.maps.places.Autocomplete(input);\r\n\r\n                autocomplete.bindTo('bounds', map);\r\n\r\n                var infowindow = new google.maps.InfoWindow();\r\n                var marker = new google.maps.Marker({\r\n                                map: map,\r\n                                position: myLatlng,\r\n                                anchorPoint: new google.maps.Point(0, -29),\r\n                                draggable:true,\r\n                            });\r\n\r\n                map.addListener('click',function(event) {\r\n                    marker.setPosition(event.latLng);\r\n                    document.getElementById(id_format + 'latitude').value = event.latLng.lat();\r\n                    document.getElementById(id_format+ 'longitude').value = event.latLng.lng();\r\n                    infowindow.setContent('Latitude: ' + event.latLng.lat() + '<br>Longitude: ' + event.latLng.lng());\r\n                    infowindow.open(map,marker);\r\n                });\r\n\r\n                google.maps.event.addListener(marker,'dragend',function(event) {\r\n                    document.getElementById(id_format + 'latitude').value = event.latLng.lat();\r\n                    document.getElementById(id_format + 'longitude').value = event.latLng.lng();\r\n                    infowindow.setContent('Latitude: ' + event.latLng.lat() + '<br>Longitude: ' + event.latLng.lng());\r\n                    infowindow.open(map,marker);\r\n                });\r\n\r\n                autocomplete.addListener('place_changed', function() {\r\n                    infowindow.close();\r\n                    marker.setVisible(false);\r\n                    var place = autocomplete.getPlace();\r\n\r\n                    if (!place.geometry) {\r\n                        window.alert(\"Autocomplete's returned place contains no geometry\");\r\n                        return;\r\n                    }\r\n\r\n                    // If the place has a geometry, then present it on a map.\r\n                    if (place.geometry.viewport) {\r\n                        map.fitBounds(place.geometry.viewport);\r\n                    } else {\r\n                        map.setCenter(place.geometry.location);\r\n                        map.setZoom(17);\r\n                    }\r\n                    /*\r\n                    marker.setIcon(({\r\n                        url: place.icon,\r\n                        size: new google.maps.Size(71, 71),\r\n                        origin: new google.maps.Point(0, 0),\r\n                        anchor: new google.maps.Point(17, 34),\r\n                        scaledSize: new google.maps.Size(35, 35)\r\n                    }));\r\n                    */\r\n                    marker.setPosition(place.geometry.location);\r\n                    marker.setVisible(true);\r\n\r\n                    var address = '';\r\n                    if (place.address_components) {\r\n                        address = [\r\n                            (place.address_components[0] && place.address_components[0].short_name || ''),\r\n                            (place.address_components[1] && place.address_components[1].short_name || ''),\r\n                            (place.address_components[2] && place.address_components[2].short_name || '')\r\n                        ].join(' ');\r\n                    }\r\n\r\n                    infowindow.setContent('<div><strong>' + place.name + '</strong><br>' + address);\r\n                    infowindow.open(map, marker);\r\n\r\n                    //Location details\r\n                    for (var i = 0; i < place.address_components.length; i++) {\r\n                        if(place.address_components[i].types[0] == 'postal_code'){\r\n                            document.getElementById('postal_code').innerHTML = place.address_components[i].long_name;\r\n                        }\r\n                        if(place.address_components[i].types[0] == 'country'){\r\n                            document.getElementById('country').innerHTML = place.address_components[i].long_name;\r\n                        }\r\n                    }\r\n                    document.getElementById('location').innerHTML = place.formatted_address;\r\n                    document.getElementById(id_format + 'latitude').value = place.geometry.location.lat();\r\n                    document.getElementById(id_format + 'longitude').value = place.geometry.location.lng();\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}
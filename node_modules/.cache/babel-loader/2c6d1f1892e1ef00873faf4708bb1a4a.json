{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass } from \"vue\";\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"Purchase History\", -1\n/* HOISTED */\n);\n\nconst _hoisted_2 = {\n  class: \"card-body\"\n};\nconst _hoisted_3 = {\n  class: \"table mb-0\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Code\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  \"data-breakpoints\": \"md\"\n}, \"Date\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Amount\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  \"data-breakpoints\": \"md\"\n}, \"Delivery Status\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  \"data-breakpoints\": \"md\"\n}, \"Payment Status\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  \"data-breakpoints\": \"md\"\n}, \"Objection\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-right\"\n}, \"Options\")])], -1\n/* HOISTED */\n);\n\nconst _hoisted_5 = {\n  href: \"\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"ml-2\",\n  style: {\n    \"color\": \"green\"\n  }\n};\n\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"strong\", null, \"*\", -1\n/* HOISTED */\n);\n\nconst _hoisted_8 = [_hoisted_7];\n\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"ml-2\",\n  style: {\n    \"color\": \"green\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"*\")], -1\n/* HOISTED */\n);\n\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"td\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"td\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_12 = {\n  key: 0,\n  href: \"\"\n};\n\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"b\", null, \"Dont Pay Seller\", -1\n/* HOISTED */\n);\n\nconst _hoisted_14 = [_hoisted_13];\nconst _hoisted_15 = {\n  key: 1,\n  class: \"text-success\",\n  href: \"\"\n};\n\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"text-reset fw-600\"\n}, \" Withdraw Objection\", -1\n/* HOISTED */\n);\n\nconst _hoisted_17 = [_hoisted_16];\n\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"aiz-pagination\"\n}, [/*#__PURE__*/_createCommentVNode(\" {{ $orders->links() }} \")], -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"table\", _hoisted_3, [_hoisted_4, _createElementVNode(\"tbody\", null, [_createCommentVNode(\" @foreach ($orders as $key => $order)\\r\\n                            @if (count($order->orderDetails) > 0) \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.purchaseHistories, (purchaseHistory, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index\n    }, [_createCommentVNode(\" <td>\\r\\n                                        <a href=\\\"{{route('purchase_history.details', encrypt($order->id))}}\\\">{{ $order->code }}</a>\\r\\n                                    </td> \"), _createElementVNode(\"td\", null, [_createElementVNode(\"a\", _hoisted_5, _toDisplayString(purchaseHistory.code), 1\n    /* TEXT */\n    )]), _createCommentVNode(\" <td>{{ date('d-m-Y', $order->date) }}</td> \"), _createElementVNode(\"td\", null, _toDisplayString(purchaseHistory.date), 1\n    /* TEXT */\n    ), _createCommentVNode(\" <td>\\r\\n                                        {{ single_price($order->grand_total) }}\\r\\n                                    </td> \"), _createElementVNode(\"td\", null, _toDisplayString(purchaseHistory.grand_total), 1\n    /* TEXT */\n    ), _createCommentVNode(\" <td>\\r\\n                                        {{ translate(ucfirst(str_replace('_', ' ', $order->delivery_status))) }}\\r\\n                                        @if($order->delivery_viewed == 0)\\r\\n                                            <span class=\\\"ml-2\\\" style=\\\"color:green\\\"><strong>*</strong></span>\\r\\n                                        @endif\\r\\n                                    </td> \"), _createElementVNode(\"td\", null, [_createTextVNode(_toDisplayString(purchaseHistory.delivery_status) + \" \", 1\n    /* TEXT */\n    ), purchaseHistory.delivery_viewed == 0 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, _hoisted_8)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"td\", null, [_createElementVNode(\"span\", {\n      class: _normalizeClass(purchaseHistory.payment_status == 'unpaid' ? 'badge badge-inline badge-danger' : 'badge badge-inline badge-success')\n    }, _toDisplayString(purchaseHistory.payment_status == 'unpaid' ? 'unpaid' : 'paid'), 3\n    /* TEXT, CLASS */\n    ), _hoisted_9]), _hoisted_10, _hoisted_11, _createElementVNode(\"td\", null, [_createCommentVNode(\" @if($order->dontpay==null && $order->payment_status == 'paid' &&  $order->delivery_status== 'delivered' && $diffdate<2)  \"), purchaseHistory.dontpay == null && purchaseHistory.payment_status == 'paid' && purchaseHistory.delivery_status == 'delivered' && purchaseHistory.diffdate < 2 ? (_openBlock(), _createElementBlock(\"a\", _hoisted_12, _hoisted_14)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" @endif \"), _createCommentVNode(\" @if($order->dontpay!=null && $order->payment_status == 'paid' &&  $order->delivery_status== 'delivered' && $diffdate<2) \"), purchaseHistory.dontpay != null && purchaseHistory.payment_status == 'paid' && purchaseHistory.delivery_status == 'delivered' && purchaseHistory.diffdate < 2 ? (_openBlock(), _createElementBlock(\"a\", _hoisted_15, _hoisted_17)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" @endif  \")]), _createCommentVNode(\" <td class=\\\"text-right\\\">\\r\\n                                        @if ($order->delivery_status == 'pending' && $order->payment_status == 'unpaid')\\r\\n                                            <a href=\\\"javascript:void(0)\\\" class=\\\"btn btn-soft-danger btn-icon btn-circle btn-sm confirm-delete\\\" data-href=\\\"{{route('purchase_history.destroy', $order->id)}}\\\" title=\\\"{{ translate('Cancel') }}\\\">\\r\\n                                               <i class=\\\"las la-trash\\\"></i>\\r\\n                                           </a>\\r\\n                                        @endif\\r\\n                                        <a href=\\\"{{route('purchase_history.details', encrypt($order->id))}}\\\" class=\\\"btn btn-soft-info btn-icon btn-circle btn-sm\\\" title=\\\"{{ translate('Order Details') }}\\\">\\r\\n                                            <i class=\\\"las la-eye\\\"></i>\\r\\n                                        </a>\\r\\n                                        <a class=\\\"btn btn-soft-warning btn-icon btn-circle btn-sm\\\" href=\\\"{{ route('invoice.download', $order->id) }}\\\" title=\\\"{{ translate('Download Invoice') }}\\\">\\r\\n                                            <i class=\\\"las la-download\\\"></i>\\r\\n                                        </a>\\r\\n                                    </td> \")]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])]), _hoisted_18])], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["_createElementVNode","class","href","style","_hoisted_7","_hoisted_13","_hoisted_16","_createCommentVNode","_hoisted_1","_hoisted_4","_createElementBlock","_Fragment","_renderList","$data","purchaseHistory","index","key","_toDisplayString","code","date","grand_total","delivery_status","delivery_viewed","_hoisted_8","payment_status","_hoisted_9","_hoisted_10","_hoisted_11","dontpay","diffdate","_hoisted_14","_hoisted_17","_hoisted_18"],"sourceRoot":"","sources":["F:\\adminDeal\\src\\components\\pages\\user\\purchase_history.vue"],"sourcesContent":["<template>\r\n  <h3>Purchase History</h3>\r\n  <div class=\"card-body\">\r\n                <table class=\"table mb-0\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Code</th>\r\n                            <th data-breakpoints=\"md\">Date</th>\r\n                            <th>Amount</th>\r\n                            <th data-breakpoints=\"md\">Delivery Status</th>\r\n                            <th data-breakpoints=\"md\">Payment Status</th>\r\n                            <th data-breakpoints=\"md\">Objection</th>\r\n                            <th class=\"text-right\">Options</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <!-- @foreach ($orders as $key => $order)\r\n                            @if (count($order->orderDetails) > 0) -->\r\n                                <tr v-for=\"(purchaseHistory,index) in purchaseHistories\" :key=\"index\">\r\n                                    <!-- <td>\r\n                                        <a href=\"{{route('purchase_history.details', encrypt($order->id))}}\">{{ $order->code }}</a>\r\n                                    </td> -->\r\n                                    <td>\r\n                                        <a href=\"\">{{ purchaseHistory.code }}</a>\r\n                                    </td>\r\n                                    <!-- <td>{{ date('d-m-Y', $order->date) }}</td> -->\r\n                                    <td>{{ purchaseHistory.date }}</td>\r\n\r\n                                    <!-- <td>\r\n                                        {{ single_price($order->grand_total) }}\r\n                                    </td> -->\r\n                                    <td>\r\n                                        {{ purchaseHistory.grand_total }}\r\n                                    </td>\r\n                                    <!-- <td>\r\n                                        {{ translate(ucfirst(str_replace('_', ' ', $order->delivery_status))) }}\r\n                                        @if($order->delivery_viewed == 0)\r\n                                            <span class=\"ml-2\" style=\"color:green\"><strong>*</strong></span>\r\n                                        @endif\r\n                                    </td> -->\r\n                                      <td>\r\n                                       {{ purchaseHistory.delivery_status   }}                                   \r\n                                        <span v-if=\"purchaseHistory.delivery_viewed==0\" class=\"ml-2\" style=\"color:green\"><strong>*</strong></span>                                      \r\n                                     </td>\r\n                                     <td>\r\n                                         <span :class=\"purchaseHistory.payment_status=='unpaid'?'badge badge-inline badge-danger':'badge badge-inline badge-success'\">{{ purchaseHistory.payment_status=='unpaid'?'unpaid':'paid' }}</span>                               \r\n                                         <span class=\"ml-2\" style=\"color:green\"><strong>*</strong></span>                                     \r\n                                    </td>\r\n                                    <td>\r\n\r\n                                    </td>\r\n                                    <td>\r\n                                      \r\n                                    </td>\r\n                                    <td>\r\n                                     \r\n\r\n                                        <!-- @if($order->dontpay==null && $order->payment_status == 'paid' &&  $order->delivery_status== 'delivered' && $diffdate<2)  -->\r\n                                        <a  v-if=\"purchaseHistory.dontpay==null&&purchaseHistory.payment_status=='paid'&&purchaseHistory.delivery_status== 'delivered' && purchaseHistory.diffdate<2\" href=\"\">\r\n                                            <b>Dont Pay Seller</b> \r\n                                        </a> \r\n                                        <!-- @endif -->\r\n                                         <!-- @if($order->dontpay!=null && $order->payment_status == 'paid' &&  $order->delivery_status== 'delivered' && $diffdate<2) -->\r\n                                          <a class=\"text-success\" v-if=\"purchaseHistory.dontpay!=null&&purchaseHistory.payment_status=='paid'&&purchaseHistory.delivery_status== 'delivered' && purchaseHistory.diffdate<2\" href=\"\"> <span class=\"text-reset fw-600\"> Withdraw Objection</span> \r\n                                        </a>\r\n                                         <!-- @endif  -->\r\n                                    </td>\r\n                                    <!-- <td class=\"text-right\">\r\n                                        @if ($order->delivery_status == 'pending' && $order->payment_status == 'unpaid')\r\n                                            <a href=\"javascript:void(0)\" class=\"btn btn-soft-danger btn-icon btn-circle btn-sm confirm-delete\" data-href=\"{{route('purchase_history.destroy', $order->id)}}\" title=\"{{ translate('Cancel') }}\">\r\n                                               <i class=\"las la-trash\"></i>\r\n                                           </a>\r\n                                        @endif\r\n                                        <a href=\"{{route('purchase_history.details', encrypt($order->id))}}\" class=\"btn btn-soft-info btn-icon btn-circle btn-sm\" title=\"{{ translate('Order Details') }}\">\r\n                                            <i class=\"las la-eye\"></i>\r\n                                        </a>\r\n                                        <a class=\"btn btn-soft-warning btn-icon btn-circle btn-sm\" href=\"{{ route('invoice.download', $order->id) }}\" title=\"{{ translate('Download Invoice') }}\">\r\n                                            <i class=\"las la-download\"></i>\r\n                                        </a>\r\n                                    </td> -->\r\n                                </tr>\r\n                           \r\n                    </tbody>\r\n                </table>\r\n                <div class=\"aiz-pagination\">\r\n                    <!-- {{ $orders->links() }} -->\r\n              \t</div>\r\n            </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n  data(){\r\n    return{\r\n        auth:{\r\n              isAuthenticated: false,\r\n              user: {},\r\n          },\r\n        purchaseHistories:[],\r\n        \r\n    }\r\n  },\r\n  created(){\r\n        var user = localStorage.getItem(\"user\");\r\n        if(user !== null){\r\n            user = JSON.parse(user);\r\n            this.auth.isAuthenticated = true;\r\n            this.auth.user = user;\r\n        }\r\n        this.getPurchaseHistory();\r\n    },\r\n  methods: {\r\n    getPurchaseHistory(){\r\n        const csrfToken = document.head.querySelector('meta[name=\"csrf-token\"]').content;\r\n        axios.defaults.headers.common['X-CSRF-TOKEN'] = csrfToken;\r\n      axios.get(this.selfDomain+\"vueweb/purchase_history\",{\r\n        headers: {\r\n                    token: this.auth.user.access_token,\r\n                    Authorization: \"Bearer \" + this.auth.user.access_token,\r\n                }\r\n      }).then((res)=>{\r\n        this.purchaseHistories = res.data[0].data\r\n        console.log(res.data[0]);\r\n      }).catch((err)=>{\r\n         console.log(err)\r\n      })\r\n    },\r\n    // paymentStatus(status){\r\n    //     console.log(status);\r\n    // }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}
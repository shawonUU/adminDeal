{"ast":null,"code":"import { extend } from '../vue';\nimport { IS_BROWSER } from '../constants/env';\nimport { EVENT_OPTIONS_NO_CAPTURE } from '../constants/events';\nimport { arrayIncludes } from '../utils/array';\nimport { eventOn, eventOff } from '../utils/events';\nimport { keys } from '../utils/object'; // --- Constants ---\n\nvar PROP = '$_documentListeners'; // --- Mixin ---\n// @vue/component\n\nexport var listenOnDocumentMixin = extend({\n  created: function created() {\n    // Define non-reactive property\n    // Object of arrays, keyed by event name,\n    // where value is an array of callbacks\n    this[PROP] = {};\n  },\n  beforeDestroy: function beforeDestroy() {\n    var _this = this; // Unregister all registered listeners\n\n\n    keys(this[PROP] || {}).forEach(function (event) {\n      _this[PROP][event].forEach(function (callback) {\n        _this.listenOffDocument(event, callback);\n      });\n    });\n    this[PROP] = null;\n  },\n  methods: {\n    registerDocumentListener: function registerDocumentListener(event, callback) {\n      if (this[PROP]) {\n        this[PROP][event] = this[PROP][event] || [];\n\n        if (!arrayIncludes(this[PROP][event], callback)) {\n          this[PROP][event].push(callback);\n        }\n      }\n    },\n    unregisterDocumentListener: function unregisterDocumentListener(event, callback) {\n      if (this[PROP] && this[PROP][event]) {\n        this[PROP][event] = this[PROP][event].filter(function (cb) {\n          return cb !== callback;\n        });\n      }\n    },\n    listenDocument: function listenDocument(on, event, callback) {\n      on ? this.listenOnDocument(event, callback) : this.listenOffDocument(event, callback);\n    },\n    listenOnDocument: function listenOnDocument(event, callback) {\n      if (IS_BROWSER) {\n        eventOn(document, event, callback, EVENT_OPTIONS_NO_CAPTURE);\n        this.registerDocumentListener(event, callback);\n      }\n    },\n    listenOffDocument: function listenOffDocument(event, callback) {\n      if (IS_BROWSER) {\n        eventOff(document, event, callback, EVENT_OPTIONS_NO_CAPTURE);\n      }\n\n      this.unregisterDocumentListener(event, callback);\n    }\n  }\n});","map":{"version":3,"names":["extend","IS_BROWSER","EVENT_OPTIONS_NO_CAPTURE","arrayIncludes","eventOn","eventOff","keys","PROP","listenOnDocumentMixin","created","beforeDestroy","_this","forEach","event","callback","listenOffDocument","methods","registerDocumentListener","push","unregisterDocumentListener","filter","cb","listenDocument","on","listenOnDocument","document"],"sources":["D:/VUE/adminDeal/node_modules/bootstrap-vue/esm/mixins/listen-on-document.js"],"sourcesContent":["import { extend } from '../vue';\r\nimport { IS_BROWSER } from '../constants/env';\r\nimport { EVENT_OPTIONS_NO_CAPTURE } from '../constants/events';\r\nimport { arrayIncludes } from '../utils/array';\r\nimport { eventOn, eventOff } from '../utils/events';\r\nimport { keys } from '../utils/object'; // --- Constants ---\r\n\r\nvar PROP = '$_documentListeners'; // --- Mixin ---\r\n// @vue/component\r\n\r\nexport var listenOnDocumentMixin = extend({\r\n  created: function created() {\r\n    // Define non-reactive property\r\n    // Object of arrays, keyed by event name,\r\n    // where value is an array of callbacks\r\n    this[PROP] = {};\r\n  },\r\n  beforeDestroy: function beforeDestroy() {\r\n    var _this = this;\r\n\r\n    // Unregister all registered listeners\r\n    keys(this[PROP] || {}).forEach(function (event) {\r\n      _this[PROP][event].forEach(function (callback) {\r\n        _this.listenOffDocument(event, callback);\r\n      });\r\n    });\r\n    this[PROP] = null;\r\n  },\r\n  methods: {\r\n    registerDocumentListener: function registerDocumentListener(event, callback) {\r\n      if (this[PROP]) {\r\n        this[PROP][event] = this[PROP][event] || [];\r\n\r\n        if (!arrayIncludes(this[PROP][event], callback)) {\r\n          this[PROP][event].push(callback);\r\n        }\r\n      }\r\n    },\r\n    unregisterDocumentListener: function unregisterDocumentListener(event, callback) {\r\n      if (this[PROP] && this[PROP][event]) {\r\n        this[PROP][event] = this[PROP][event].filter(function (cb) {\r\n          return cb !== callback;\r\n        });\r\n      }\r\n    },\r\n    listenDocument: function listenDocument(on, event, callback) {\r\n      on ? this.listenOnDocument(event, callback) : this.listenOffDocument(event, callback);\r\n    },\r\n    listenOnDocument: function listenOnDocument(event, callback) {\r\n      if (IS_BROWSER) {\r\n        eventOn(document, event, callback, EVENT_OPTIONS_NO_CAPTURE);\r\n        this.registerDocumentListener(event, callback);\r\n      }\r\n    },\r\n    listenOffDocument: function listenOffDocument(event, callback) {\r\n      if (IS_BROWSER) {\r\n        eventOff(document, event, callback, EVENT_OPTIONS_NO_CAPTURE);\r\n      }\r\n\r\n      this.unregisterDocumentListener(event, callback);\r\n    }\r\n  }\r\n});"],"mappings":"AAAA,SAASA,MAAT,QAAuB,QAAvB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,wBAAT,QAAyC,qBAAzC;AACA,SAASC,aAAT,QAA8B,gBAA9B;AACA,SAASC,OAAT,EAAkBC,QAAlB,QAAkC,iBAAlC;AACA,SAASC,IAAT,QAAqB,iBAArB,C,CAAwC;;AAExC,IAAIC,IAAI,GAAG,qBAAX,C,CAAkC;AAClC;;AAEA,OAAO,IAAIC,qBAAqB,GAAGR,MAAM,CAAC;EACxCS,OAAO,EAAE,SAASA,OAAT,GAAmB;IAC1B;IACA;IACA;IACA,KAAKF,IAAL,IAAa,EAAb;EACD,CANuC;EAOxCG,aAAa,EAAE,SAASA,aAAT,GAAyB;IACtC,IAAIC,KAAK,GAAG,IAAZ,CADsC,CAGtC;;;IACAL,IAAI,CAAC,KAAKC,IAAL,KAAc,EAAf,CAAJ,CAAuBK,OAAvB,CAA+B,UAAUC,KAAV,EAAiB;MAC9CF,KAAK,CAACJ,IAAD,CAAL,CAAYM,KAAZ,EAAmBD,OAAnB,CAA2B,UAAUE,QAAV,EAAoB;QAC7CH,KAAK,CAACI,iBAAN,CAAwBF,KAAxB,EAA+BC,QAA/B;MACD,CAFD;IAGD,CAJD;IAKA,KAAKP,IAAL,IAAa,IAAb;EACD,CAjBuC;EAkBxCS,OAAO,EAAE;IACPC,wBAAwB,EAAE,SAASA,wBAAT,CAAkCJ,KAAlC,EAAyCC,QAAzC,EAAmD;MAC3E,IAAI,KAAKP,IAAL,CAAJ,EAAgB;QACd,KAAKA,IAAL,EAAWM,KAAX,IAAoB,KAAKN,IAAL,EAAWM,KAAX,KAAqB,EAAzC;;QAEA,IAAI,CAACV,aAAa,CAAC,KAAKI,IAAL,EAAWM,KAAX,CAAD,EAAoBC,QAApB,CAAlB,EAAiD;UAC/C,KAAKP,IAAL,EAAWM,KAAX,EAAkBK,IAAlB,CAAuBJ,QAAvB;QACD;MACF;IACF,CATM;IAUPK,0BAA0B,EAAE,SAASA,0BAAT,CAAoCN,KAApC,EAA2CC,QAA3C,EAAqD;MAC/E,IAAI,KAAKP,IAAL,KAAc,KAAKA,IAAL,EAAWM,KAAX,CAAlB,EAAqC;QACnC,KAAKN,IAAL,EAAWM,KAAX,IAAoB,KAAKN,IAAL,EAAWM,KAAX,EAAkBO,MAAlB,CAAyB,UAAUC,EAAV,EAAc;UACzD,OAAOA,EAAE,KAAKP,QAAd;QACD,CAFmB,CAApB;MAGD;IACF,CAhBM;IAiBPQ,cAAc,EAAE,SAASA,cAAT,CAAwBC,EAAxB,EAA4BV,KAA5B,EAAmCC,QAAnC,EAA6C;MAC3DS,EAAE,GAAG,KAAKC,gBAAL,CAAsBX,KAAtB,EAA6BC,QAA7B,CAAH,GAA4C,KAAKC,iBAAL,CAAuBF,KAAvB,EAA8BC,QAA9B,CAA9C;IACD,CAnBM;IAoBPU,gBAAgB,EAAE,SAASA,gBAAT,CAA0BX,KAA1B,EAAiCC,QAAjC,EAA2C;MAC3D,IAAIb,UAAJ,EAAgB;QACdG,OAAO,CAACqB,QAAD,EAAWZ,KAAX,EAAkBC,QAAlB,EAA4BZ,wBAA5B,CAAP;QACA,KAAKe,wBAAL,CAA8BJ,KAA9B,EAAqCC,QAArC;MACD;IACF,CAzBM;IA0BPC,iBAAiB,EAAE,SAASA,iBAAT,CAA2BF,KAA3B,EAAkCC,QAAlC,EAA4C;MAC7D,IAAIb,UAAJ,EAAgB;QACdI,QAAQ,CAACoB,QAAD,EAAWZ,KAAX,EAAkBC,QAAlB,EAA4BZ,wBAA5B,CAAR;MACD;;MAED,KAAKiB,0BAAL,CAAgCN,KAAhC,EAAuCC,QAAvC;IACD;EAhCM;AAlB+B,CAAD,CAAlC"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import Temp from './temp.vue';\nimport axios from 'axios';\nexport default {\n  components: {\n    Temp\n  },\n\n  data() {\n    return {\n      auth: {\n        isAuthenticated: false,\n        user: {}\n      },\n      shops: [],\n      load: false\n    };\n  },\n\n  created() {\n    var user = localStorage.getItem(\"user\");\n\n    if (user !== null) {\n      user = JSON.parse(user);\n      this.auth.isAuthenticated = true;\n      this.auth.user = user;\n      this.getFollowedShop();\n    }\n  },\n\n  methods: {\n    loadCompo() {\n      this.load = !this.load;\n    },\n\n    getFollowedShop() {\n      axios.get(this.selfDomain + \"vueweb/user_followed_shop\", {\n        headers: {\n          token: this.auth.user.access_token,\n          Authorization: \"Bearer \" + this.auth.user.access_token\n        }\n      }).then(res => {\n        this.shops = res.data.shops.data;\n        console.log(this.shops);\n        console.log(\"===end====\");\n      }).catch(err => {});\n    },\n\n    unfollow(id) {\n      if (this.auth.isAuthenticated) {\n        axios.get(this.selfDomain + \"vueweb/followed_shop/\" + id, {\n          headers: {\n            Authorization: \"Bearer \" + this.auth.user.access_token\n          }\n        }).then(res => {\n          // console.log(res.data);\n          this.getFollowedShop();\n        }).catch(err => {});\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAoCA,OAAOA,IAAP,MAAiB,YAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,eAAe;EACXC,UAAU,EAAC;IAACF;EAAD,CADA;;EAEXG,IAAI,GAAE;IACF,OAAM;MACDC,IAAI,EAAC;QACFC,eAAe,EAAE,KADf;QAEFC,IAAI,EAAE;MAFJ,CADJ;MAKFC,KAAK,EAAE,EALL;MAMFC,IAAI,EAAE;IANJ,CAAN;EAQH,CAXU;;EAYXC,OAAO,GAAE;IACL,IAAIH,IAAG,GAAII,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX;;IACA,IAAGL,IAAG,KAAM,IAAZ,EAAiB;MACbA,IAAG,GAAIM,IAAI,CAACC,KAAL,CAAWP,IAAX,CAAP;MACA,KAAKF,IAAL,CAAUC,eAAV,GAA4B,IAA5B;MACA,KAAKD,IAAL,CAAUE,IAAV,GAAiBA,IAAjB;MACA,KAAKQ,eAAL;IACJ;EACH,CApBU;;EAqBXC,OAAO,EAAC;IACJC,SAAS,GAAE;MACP,KAAKR,IAAL,GAAY,CAAC,KAAKA,IAAlB;IACH,CAHG;;IAIJM,eAAe,GAAE;MACbb,KAAK,CAACgB,GAAN,CAAU,KAAKC,UAAL,GAAgB,2BAA1B,EAAuD;QACnDC,OAAO,EAAE;UACLC,KAAK,EAAE,KAAKhB,IAAL,CAAUE,IAAV,CAAee,YADjB;UAELC,aAAa,EAAE,YAAY,KAAKlB,IAAL,CAAUE,IAAV,CAAee;QAFrC;MAD0C,CAAvD,EAKGE,IALH,CAKQC,GAAG,IAAE;QACT,KAAKjB,KAAL,GAAaiB,GAAG,CAACrB,IAAJ,CAASI,KAAT,CAAeJ,IAA5B;QACAsB,OAAO,CAACC,GAAR,CAAY,KAAKnB,KAAjB;QACAkB,OAAO,CAACC,GAAR,CAAY,YAAZ;MACH,CATD,EASGC,KATH,CASSC,GAAG,IAAE,CAEb,CAXD;IAYH,CAjBG;;IAkBJC,QAAQ,CAACC,EAAD,EAAI;MACR,IAAG,KAAK1B,IAAL,CAAUC,eAAb,EAA6B;QACzBJ,KAAK,CAACgB,GAAN,CAAU,KAAKC,UAAL,GAAgB,uBAAhB,GAAwCY,EAAlD,EAAsD;UAClDX,OAAO,EAAE;YACLG,aAAa,EAAE,YAAY,KAAKlB,IAAL,CAAUE,IAAV,CAAee;UADrC;QADyC,CAAtD,EAIGE,IAJH,CAIQC,GAAG,IAAE;UACb;UACI,KAAKV,eAAL;QACH,CAPD,EAOGa,KAPH,CAOSC,GAAG,IAAE,CAEb,CATD;MAUJ;IACJ;;EA/BI;AArBG,CAAf","names":["Temp","axios","components","data","auth","isAuthenticated","user","shops","load","created","localStorage","getItem","JSON","parse","getFollowedShop","methods","loadCompo","get","selfDomain","headers","token","access_token","Authorization","then","res","console","log","catch","err","unfollow","id"],"sourceRoot":"","sources":["E:\\adminDeal\\src\\components\\pages\\user\\UserFollowedShop.vue"],"sourcesContent":["<template>\r\n    <div class=\"aiz-titlebar mt-2 mb-4\">\r\n        <div class=\"row align-items-center\">\r\n            <div class=\"col-md-6\">\r\n                <h1 class=\"h3\">Followed Shop</h1>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class=\"container\">\r\n        <div class=\"rounded bg-white px-3 pt-3 shadow-sm\">\r\n            <div class=\"row row-cols-xxl-6 row-cols-xl-5 row-cols-lg-4 row-cols-md-3 row-cols-2 gutters-10\">\r\n\r\n                <div v-for=\"(shop, index) in shops\" :key=\"index\" class=\"col text-center hov-shadow-md border d-block rounded bg-white p-2 \">\r\n                    <a href=\"\" class=\"text-reset \">\r\n                        <img\r\n                            :src=\"shop.logo\"\r\n                            :data-src=\"shop.logo\"\r\n                            :alt=\"shop.name\"\r\n                            class=\"img-fluid img lazyload h-60px\"\r\n                            height=\"78\"\r\n                        >\r\n                        <div class=\"text-truncate fs-12 fw-600 mt-2 opacity-70\">{{ shop.name }}</div>\r\n                    </a><br>\r\n                    <a @click=\"unfollow(shop.id)\" class=\"text-reset d-inline-block fw-600 fs-15 p-3\" href=\"javascript:void(0)\"><button class=\"btn btn-sm btn-secondary\">Unfollow</button></a>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <Temp v-if=\"load\"></Temp>\r\n    <button @click=\"loadCompo()\">Load</button>\r\n</template>\r\n\r\n<script>\r\nimport Temp from './temp.vue';\r\nimport axios from 'axios';\r\nexport default {\r\n    components:{Temp},\r\n    data(){\r\n        return{\r\n             auth:{\r\n                isAuthenticated: false,\r\n                user: {},\r\n            },\r\n            shops: [],\r\n            load: false,\r\n        }\r\n    },\r\n    created(){\r\n        var user = localStorage.getItem(\"user\");\r\n        if(user !== null){\r\n            user = JSON.parse(user);\r\n            this.auth.isAuthenticated = true;\r\n            this.auth.user = user;\r\n            this.getFollowedShop();\r\n        }\r\n    },\r\n    methods:{\r\n        loadCompo(){\r\n            this.load = !this.load;\r\n        },\r\n        getFollowedShop(){\r\n            axios.get(this.selfDomain+\"vueweb/user_followed_shop\", {\r\n                headers: {\r\n                    token: this.auth.user.access_token,\r\n                    Authorization: \"Bearer \" + this.auth.user.access_token,\r\n                }\r\n            }).then(res=>{\r\n                this.shops = res.data.shops.data;\r\n                console.log(this.shops);\r\n                console.log(\"===end====\");\r\n            }).catch(err=>{\r\n\r\n            });\r\n        },\r\n        unfollow(id){\r\n            if(this.auth.isAuthenticated){\r\n                axios.get(this.selfDomain+\"vueweb/followed_shop/\"+id, {\r\n                    headers: {\r\n                        Authorization: \"Bearer \" + this.auth.user.access_token,\r\n                    }\r\n                }).then(res=>{\r\n                // console.log(res.data);\r\n                    this.getFollowedShop();\r\n                }).catch(err=>{\r\n\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}
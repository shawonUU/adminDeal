{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  props: ['productId'],\n\n  data() {\n    return {\n      auth: {\n        isAuthenticated: false,\n        user: {}\n      },\n      productDetails: null,\n      preLoader: false\n    };\n  },\n\n  created() {\n    var user = localStorage.getItem(\"user\");\n\n    if (user !== null) {\n      user = JSON.parse(user);\n      this.auth.isAuthenticated = true;\n      this.auth.user = user;\n    }\n\n    this.getProductDetails();\n  },\n\n  methods: {\n    hidModal() {\n      this.emitter.emit(\"viewAddToCartModal\", false);\n      let ele = document.getElementsByTagName('body');\n      ele[0].classList.remove(\"modal-open\");\n    },\n\n    getProductDetails() {\n      this.preLoader = true;\n      axios.get(this.rootDomain + 'vueweb/cart/show-cart-modal?id=' + this.productId).then(res => {\n        console.log(res.data.productCollection.data[0]); // console.log(res.data);\n\n        this.productDetails = res.data.productCollection.data[0]; // console,log(res.data)\n\n        this.preLoader = false;\n        this.getVariantPrice();\n      }).catch(err => {});\n    },\n\n    getVariantPrice() {\n      if (this.productDetails.min_qty > 0 && this.checkAddToCartValidity()) {\n        $.ajax({\n          type: \"get\",\n          url: this.rootDomain + 'vueweb/product-variant_price',\n          data: {\n            id: this.productDetails.id,\n            quantity: productDetails.min_qty\n          },\n          success: function (data) {\n            console.log(data);\n            $('.product-gallery-thumb .carousel-box').each(function (i) {\n              if ($(this).data('variation') && data.variation == $(this).data('variation')) {\n                $('.product-gallery-thumb').slick('slickGoTo', i);\n              }\n            });\n            $('#option-choice-form #chosen_price_div').removeClass('d-none');\n            $('#option-choice-form #chosen_price_div #chosen_price').html(data.price);\n            $('#available-quantity').html(data.quantity);\n            $('.input-number').prop('max', data.max_limit);\n\n            if (parseInt(data.in_stock) == 0 && data.digital == 0) {\n              $('.buy-now').addClass('d-none');\n              $('.add-to-cart').addClass('d-none');\n              $('.out-of-stock').removeClass('d-none');\n            } else {\n              $('.buy-now').removeClass('d-none');\n              $('.add-to-cart').removeClass('d-none');\n              $('.out-of-stock').addClass('d-none');\n            }\n          }\n        });\n      }\n    },\n\n    checkAddToCartValidity() {\n      var names = {};\n      $('#option-choice-form input:radio').each(function () {\n        // find unique names\n        names[$(this).attr('name')] = true;\n      });\n      var count = 0;\n      $.each(names, function () {\n        // then count them\n        count++;\n      });\n\n      if ($('#option-choice-form input:radio:checked').length == count) {\n        return true;\n      }\n\n      return false;\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","props","data","auth","isAuthenticated","user","productDetails","preLoader","created","localStorage","getItem","JSON","parse","getProductDetails","methods","hidModal","emitter","emit","ele","document","getElementsByTagName","classList","remove","get","rootDomain","productId","then","res","console","log","productCollection","getVariantPrice","catch","err","min_qty","checkAddToCartValidity","$","ajax","type","url","id","quantity","success","each","i","variation","slick","removeClass","html","price","prop","max_limit","parseInt","in_stock","digital","addClass","names","attr","count","length"],"sourceRoot":"","sources":["D:\\VUE\\adminDeal\\src\\components\\layouts\\Modal\\AddToCartModal.vue"],"sourcesContent":["\r\n\r\n\r\n<template >\r\n    <div @mousedown=\"hidModal()\" class=\"sb-lightbox-overlay\" style=\" position: fixed;width: 100%;height: 100%;top: 0;right: 0;left: 0;bottom: 0;z-index: 100;background-color: rgba(0, 0, 0, 0.6);display: block;animation: sb-fade-animation;\"></div>\r\n    <div  class=\"modal fade show\" id=\"addToCart\" style=\"z-index: 99999; display: block; padding-right: 17px;\" aria-modal=\"true\">\r\n        <div class=\"modal-dialog modal-dialog-centered modal-dialog-zoom product-modal modal-lg\" id=\"modal-size\" role=\"document\">\r\n            <div class=\"modal-content position-relative\">\r\n                <div v-if=\"preLoader\" class=\"c-preloader text-center p-3\" >\r\n                    <i class=\"las la-spinner la-spin la-3x\"></i>\r\n                </div>\r\n                <button type=\"button\" class=\"close absolute-top-right btn-icon close z-1\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span @click=\"hidModal()\" aria-hidden=\"true\" class=\"la-2x\">Ã—</span>\r\n                </button>\r\n\r\n<templete v-if=\"productDetails != null\">\r\n<div class=\"modal-body p-4 c-scrollbar-light\">\r\n    <div class=\"row\">\r\n        <div class=\"col-lg-6\">\r\n            <div class=\"row gutters-10 flex-row-reverse\">\r\n               \r\n                <div class=\"col\">\r\n                    <div class=\"aiz-carousel product-gallery\" data-nav-for='.product-gallery-thumb' data-fade='true' data-auto-height='true'>\r\n                        \r\n                        <div v-for=\"(photo, index) in productDetails.photos\" :key=\"index\" class=\"carousel-box img-zoom rounded\">\r\n                            <img v-if=\"photo.path != null\"\r\n                                class=\"img-fluid lazyload\"\r\n                                \r\n                                :src=\"photo.path\"\r\n                            >\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-auto w-90px\">\r\n                    <div class=\"aiz-carousel carousel-thumb product-gallery-thumb\" data-items='5' data-nav-for='.product-gallery' data-vertical='true' data-focus-select='true'>\r\n                        <div v-for=\"(photo, index) in productDetails.photos\" :key=\"index\" class=\"carousel-box c-pointer border p-1 rounded\">\r\n                            <img v-if=\"photo.path != null\"\r\n                                class=\"lazyload mw-100 size-60px mx-auto\"\r\n                                :src=\"rootDomain+'assets/img/placeholder.jpg'\"\r\n                                :data-src=\"photo.path\"\r\n                            >\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"col-lg-6\">\r\n            <div class=\"text-left\">\r\n                <h2 class=\"mb-2 fs-20 fw-600\">\r\n                    {{  productDetails.name  }}\r\n                </h2>\r\n\r\n                <template v-if=\"productDetails.home_price != productDetails.home_discounted_price\">\r\n                    <div class=\"row no-gutters mt-3\">\r\n                        <div class=\"col-2\">\r\n                            <div class=\"opacity-50 mt-2\">Price:</div>\r\n                        </div>\r\n                        <div class=\"col-10\">\r\n                            <div class=\"fs-20 opacity-60\">\r\n                                <del>\r\n                                    {{ productDetails.home_price }}\r\n                                    <span v-if=\"productDetails.unit != null\">/{{ productDetails.unit }}</span>\r\n                                </del>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"row no-gutters mt-2\">\r\n                        <div class=\"col-2\">\r\n                            <div class=\"opacity-50\">Discount Price:</div>\r\n                        </div>\r\n                        <div class=\"col-10\">\r\n                            <div class=\"\">\r\n                                <strong class=\"h2 fw-600 text-primary\">\r\n                                    {{ productDetails.home_discounted_price }}\r\n                                </strong>\r\n                                <span v-if=\"productDetails.unit != null\" class=\"opacity-70\">/{{ productDetails.unit }}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </template>\r\n                <template v-else>\r\n                    <div class=\"row no-gutters mt-3\">\r\n                        <div class=\"col-2\">\r\n                            <div class=\"opacity-50\">Price:</div>\r\n                        </div>\r\n                        <div class=\"col-10\">\r\n                            <div class=\"\">\r\n                                <strong class=\"h2 fw-600 text-primary\">\r\n                                    {{ productDetails.home_discounted_price }}\r\n                                </strong>\r\n                                <span class=\"opacity-70\">/{{ productDetails.unit }}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </template>\r\n\r\n                    <div v-if=\"productDetails.addon_is_activated && productDetails.earn_point > 0\" class=\"row no-gutters mt-4\">\r\n                        <div class=\"col-2\">\r\n                            <div class=\"opacity-50\">Cashback:</div>\r\n                        </div>\r\n                        <div class=\"col-10\">\r\n                            <div class=\"d-inline-block club-point bg-soft-primary px-3 py-1 border\">\r\n                                <span class=\"strong-700\">{{ productDetails.earn_point }}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                <hr>\r\n\r\n                <form id=\"option-choice-form\">\r\n                    \r\n                    <!-- <input type=\"hidden\" name=\"id\" value=\"{{ productDetails.id }}\"> -->\r\n\r\n                    <!-- Quantity + Add to cart -->\r\n                    \r\n                    <templete v-if=\"productDetails.digital != 1\">\r\n                        <templete v-if=\"productDetails.choice_options != null\">\r\n\r\n                                <div v-for=\"(choice, index) in productDetails.choice_options\" :key=\"index\" class=\"row no-gutters\">\r\n                                    <div class=\"col-2\">\r\n                                        <div class=\"opacity-50 mt-2 \">{{ choice.name }}:</div>\r\n                                    </div>\r\n                                    <div class=\"col-10\">\r\n                                        <div class=\"aiz-radio-inline\">\r\n                                            <label v-for=\"(value, indexdn) in choice.options\" :key=\"indexdn\" class=\"aiz-megabox pl-0 mr-2\">\r\n                                                <input\r\n                                                    type=\"radio\"\r\n                                                    :name=\"'attribute_id_'+choice.id\"\r\n                                                    :value=\"value\"\r\n                                                    :checked=\"indexdn==0\"\r\n                                                >\r\n                                                <span class=\"aiz-megabox-elem rounded d-flex align-items-center justify-content-center py-2 px-3 mb-2\">\r\n                                                    {{ value }}\r\n                                                </span>\r\n                                            </label>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                        </templete>\r\n\r\n                        <templete v-if=\"productDetails.colors.length > 0\">\r\n                            <div class=\"row no-gutters\">\r\n                                <div class=\"col-2\">\r\n                                    <div class=\"opacity-50 mt-2\">Color:</div>\r\n                                </div>\r\n                                <div class=\"col-10\">\r\n                                    <div class=\"aiz-radio-inline\">\r\n                                        <label v-for=\"(color, index) in productDetails.colors\" :key=\"index\" class=\"aiz-megabox pl-0 mr-2\" data-toggle=\"tooltip\" data-title=\"{{ \\App\\Models\\Color::where('code', $color)->first()->name }}\">\r\n                                            <input\r\n                                                type=\"radio\"\r\n                                                name=\"color\"\r\n                                                :value=\"color.name\"\r\n                                                :checked=\"index == 0\"\r\n                                            >\r\n                                            <span class=\"aiz-megabox-elem rounded d-flex align-items-center justify-content-center p-1 mb-2\">\r\n                                                <span class=\"size-30px d-inline-block rounded\" :style=\"'background:'+color+';'\"></span>\r\n                                            </span>\r\n                                        </label>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <hr>\r\n                        </templete>\r\n\r\n                        <div class=\"row no-gutters\">\r\n                            <div class=\"col-2\">\r\n                                <div class=\"opacity-50 mt-2\">{{ 'Quantity'}}:</div>\r\n                            </div>\r\n                            <div class=\"col-10\">\r\n                                <div class=\"product-quantity d-flex align-items-center\">\r\n                                    <div class=\"row no-gutters align-items-center aiz-plus-minus mr-3\" style=\"width: 130px;\">\r\n                                        <button class=\"btn col-auto btn-icon btn-sm btn-circle btn-light\" type=\"button\" data-type=\"minus\" data-field=\"quantity\" disabled=\"\">\r\n                                            <i class=\"las la-minus\"></i>\r\n                                        </button>\r\n                                        <input id=\"quantity\" type=\"number\" name=\"quantity\" class=\"col border-0 text-center flex-grow-1 fs-16 input-number\" placeholder=\"1\" :v-model=\"productDetails.min_qty\" :min=\"productDetails.min_qty\" max=\"10\" lang=\"en\">\r\n                                        <button class=\"btn  col-auto btn-icon btn-sm btn-circle btn-light\" type=\"button\" data-type=\"plus\" data-field=\"quantity\">\r\n                                            <i class=\"las la-plus\"></i>\r\n                                        </button>\r\n                                    </div>\r\n                                    <div class=\"avialable-amount opacity-60\">\r\n                                        <templete v-if=\"productDetails.stock_visibility_state == 'quantity'\">\r\n                                        (<span id=\"available-quantity\">{{ $qty }}</span> {{ 'available' }})\r\n                                        </templete>\r\n                                        <templete v-if=\"productDetails.stock_visibility_state == 'text' && productDetails.stocksQty >= 1\">\r\n                                            (<span id=\"available-quantity\">{{ 'In Stock' }}</span>)\r\n                                        </templete>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <hr>\r\n                    </templete>\r\n\r\n                    <div class=\"row no-gutters pb-3 \" id=\"chosen_price_div\">\r\n                        <div class=\"col-2\">\r\n                            <div class=\"opacity-50\">{{ 'Total Price' }}:</div>\r\n                        </div>\r\n                        <div class=\"col-10\">\r\n                            <div class=\"product-price\">\r\n                                <strong id=\"chosen_price\" class=\"h4 fw-600 text-primary\">\r\n\r\n                                </strong>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </form>\r\n                <div class=\"mt-3\">\r\n                    <templete v-if=\"productDetails.digital == 1\">\r\n                        <button  type=\"button\" class=\"btn btn-primary buy-now fw-600 add-to-cart\" onclick=\"addToCart()\">\r\n                            <i class=\"la la-shopping-cart\"></i>\r\n                            <span class=\"d-none d-md-inline-block\">{{ 'Add to cart'}}</span>\r\n                        </button>\r\n                    </templete>\r\n                    <templete v-if=\"productDetails.stocksQty > 0\">\r\n                        <templete v-if=\"productDetails.external_link != null\">\r\n                            <!--<a type=\"button\" class=\"btn btn-soft-primary mr-2 add-to-cart fw-600\" href=\"{{ $product->external_link }}\">-->\r\n                            <!--    <i class=\"las la-share\"></i>-->\r\n                            <!--    <span class=\"d-none d-md-inline-block\">{{ translate($product->external_link_btn)}}</span>-->\r\n                            <!--</a>-->\r\n                            <button type=\"button\" class=\"btn btn-primary buy-now fw-600 add-to-cart\" onclick=\"addToCart()\">\r\n                                <i class=\"la la-shopping-cart\"></i>\r\n                                <span class=\"d-none d-md-inline-block\">{{ 'Add to cart' }}</span>\r\n                            </button>\r\n                        </templete>\r\n                        <templete v-else>\r\n                            <button type=\"button\" class=\"btn btn-primary buy-now fw-600 add-to-cart\" onclick=\"addToCart()\">\r\n                                <i class=\"la la-shopping-cart\"></i>\r\n                                <span class=\"d-none d-md-inline-block\">{{ 'Add to cart'}}</span>\r\n                            </button>\r\n                        </templete>\r\n                    </templete>\r\n                    <button type=\"button\" class=\"btn btn-secondary out-of-stock fw-600 d-none\" disabled>\r\n                        <i class=\"la la-cart-arrow-down\"></i>{{ 'Out of Stock' }}\r\n                    </button>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</templete>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n    props:['productId'],\r\n    data(){\r\n        return{\r\n            auth:{\r\n                isAuthenticated: false,\r\n                user: {},\r\n            },\r\n            productDetails: null,\r\n            preLoader: false,\r\n        }\r\n    },\r\n    created(){\r\n        var user = localStorage.getItem(\"user\");\r\n        if(user !== null){\r\n            user = JSON.parse(user);\r\n            this.auth.isAuthenticated = true;\r\n            this.auth.user = user;\r\n        }\r\n        this.getProductDetails();\r\n    },\r\n    methods:{\r\n        hidModal(){\r\n           this.emitter.emit(\"viewAddToCartModal\", false); \r\n           let ele = document.getElementsByTagName('body');\r\n           ele[0].classList.remove(\"modal-open\");\r\n        },\r\n        getProductDetails(){\r\n            this.preLoader = true;\r\n            axios.get(this.rootDomain+'vueweb/cart/show-cart-modal?id='+this.productId)\r\n            .then(res=>{\r\n                console.log(res.data.productCollection.data[0]);\r\n                // console.log(res.data);\r\n                this.productDetails = res.data.productCollection.data[0];\r\n                // console,log(res.data)\r\n                this.preLoader = false;\r\n                this.getVariantPrice();\r\n\r\n            }).catch(err=>{\r\n\r\n            });\r\n        },\r\n\r\n        getVariantPrice(){\r\n            if(this.productDetails.min_qty > 0 && this.checkAddToCartValidity()){\r\n               \r\n                $.ajax({\r\n                   type:\"get\",\r\n                   url: this.rootDomain+'vueweb/product-variant_price',\r\n                   data: {id: this.productDetails.id, quantity: productDetails.min_qty},\r\n                   success: function(data){\r\n                       console.log(data);\r\n                        $('.product-gallery-thumb .carousel-box').each(function (i) {\r\n                            if($(this).data('variation') && data.variation == $(this).data('variation')){\r\n                                $('.product-gallery-thumb').slick('slickGoTo', i);\r\n                            }\r\n                        })\r\n\r\n                        $('#option-choice-form #chosen_price_div').removeClass('d-none');\r\n                        $('#option-choice-form #chosen_price_div #chosen_price').html(data.price);\r\n                        $('#available-quantity').html(data.quantity);\r\n                        $('.input-number').prop('max', data.max_limit);\r\n                        if(parseInt(data.in_stock) == 0 && data.digital  == 0){\r\n                           $('.buy-now').addClass('d-none');\r\n                           $('.add-to-cart').addClass('d-none');\r\n                           $('.out-of-stock').removeClass('d-none');\r\n                        }\r\n                        else{\r\n                           $('.buy-now').removeClass('d-none');\r\n                           $('.add-to-cart').removeClass('d-none');\r\n                           $('.out-of-stock').addClass('d-none');\r\n                        }\r\n                   }\r\n               });\r\n            }\r\n        },\r\n        checkAddToCartValidity(){\r\n            var names = {};\r\n            $('#option-choice-form input:radio').each(function() { // find unique names\r\n                names[$(this).attr('name')] = true;\r\n            });\r\n            var count = 0;\r\n            $.each(names, function() { // then count them\r\n                count++;\r\n            });\r\n\r\n            if($('#option-choice-form input:radio:checked').length == count){\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style>\r\n\r\nelement {\r\n  z-index: 1040;\r\n  display: block;\r\n  padding-right: 17px;\r\n}\r\n.modal-open .modal {\r\n  overflow-x: hidden;\r\n  overflow-y: hidden;\r\n}\r\n.modal-open .modal {\r\n  overflow-x: hidden;\r\n  overflow-y: auto;\r\n}\r\n.modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 100;\r\n  display: none;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  outline: 0;\r\n}\r\n.fade {\r\n  transition: opacity .15s linear;\r\n}\r\n*, ::after, ::before {\r\n  box-sizing: border-box;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}
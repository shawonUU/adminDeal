{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      auth: {\n        isAuthenticated: false,\n        user: {}\n      },\n      carts: [],\n      total: 0\n    };\n  },\n\n  created() {\n    var user = localStorage.getItem(\"user\");\n\n    if (user !== null) {\n      user = JSON.parse(user);\n      this.auth.isAuthenticated = true;\n      this.auth.user = user;\n    }\n\n    this.getCart();\n  },\n\n  computed() {},\n\n  mounted() {},\n\n  methods: {\n    getCart() {\n      var token = \"\";\n      var temp_user = \"\";\n\n      if (this.auth.isAuthenticated == true) {\n        token = this.auth.user.access_token;\n      } else {\n        var temp_user = localStorage.getItem(\"temp_user\");\n        if (!temp_user) temp_user = \"\";\n      }\n\n      axios.get(this.rootDomain + 'vueweb/cart', {\n        params: {\n          token: token,\n          temp_user: temp_user\n        }\n      }).then(res => {\n        console.log(res.data);\n        this.carts = res.data.carts;\n        this.total = res.data.total;\n      }).catch(err => {});\n    } // getVariantPrice(){\n    //     let data;\n    //     if(this.color != null){data = {id: this.productDetails.id, quantity: this.quantity, color:this.color};}\n    //     else{data = {id: this.productDetails.id, quantity: this.quantity};}\n    //     if(this.productDetails.min_qty > 0 && this.checkAddToCartValidity()){\n    //         $.ajax({\n    //            type:\"get\",\n    //            url: this.rootDomain+'vueweb/product-variant_price',\n    //            data: data,\n    //            success: function(data){\n    //                 $('.product-gallery-thumb .carousel-box').each(function (i) {\n    //                     if($(this).data('variation') && data.variation == $(this).data('variation')){\n    //                         $('.product-gallery-thumb').slick('slickGoTo', i);\n    //                     }\n    //                 })\n    //                 $('#option-choice-form #chosen_price_div').removeClass('d-none');\n    //                 $('#option-choice-form #chosen_price_div #chosen_price').html(data.price);\n    //                 $('#available-quantity').html(data.quantity);\n    //                 $('.input-number').prop('max', data.max_limit);\n    //                 if(parseInt(data.in_stock) == 0 && data.digital  == 0){\n    //                    $('.buy-now').addClass('d-none');\n    //                    $('.add-to-cart').addClass('d-none');\n    //                    $('.out-of-stock').removeClass('d-none');\n    //                 }\n    //                 else{\n    //                    $('.buy-now').removeClass('d-none');\n    //                    $('.add-to-cart').removeClass('d-none');\n    //                    $('.out-of-stock').addClass('d-none');\n    //                 }\n    //            }\n    //        });\n    //     }\n    // },\n    // checkAddToCartValidity(){\n    //     var names = {};\n    //     $('#option-choice-form input:radio').each(function() { // find unique names\n    //         names[$(this).attr('name')] = true;\n    //     });\n    //     var count = 0;\n    //     $.each(names, function() { // then count them\n    //         count++;\n    //     });\n    //     if($('#option-choice-form input:radio:checked').length == count){\n    //         return true;\n    //     }\n    //     return false;\n    // },\n    // incresQuantity(){\n    //      this.quantity = this.quantity + 1;\n    //     if( this.quantity > this.productDetails.stocksQty)  \n    //         this.quantity = this.productDetails.stocksQty;\n    //     this.getVariantPrice();\n    // },\n    // decresQuantity(){\n    //     this.quantity = this.quantity - 1;\n    //     if( this.quantity<1)  this.quantity = 1;\n    //     this.getVariantPrice();\n    // },\n    // setQuantity(){\n    //     let qty = $(\"#quantity\").val();\n    //     if(qty<1) qty = 1;\n    //     if(qty > this.productDetails.stocksQty) \n    //         qty = this.productDetails.stocksQty;\n    //     this.quantity = qty;\n    //     this.getVariantPrice();\n    // },\n\n\n  }\n};","map":{"version":3,"mappings":"AAyXE,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe;EACbC,IAAI,GAAE;IACJ,OAAM;MACJC,IAAI,EAAC;QACHC,eAAe,EAAE,KADd;QAEHC,IAAI,EAAE;MAFH,CADD;MAKJC,KAAK,EAAE,EALH;MAMJC,KAAK,EAAE;IANH,CAAN;EAQD,CAVY;;EAWbC,OAAO,GAAE;IACL,IAAIH,IAAG,GAAII,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX;;IACA,IAAGL,IAAG,KAAM,IAAZ,EAAiB;MACbA,IAAG,GAAIM,IAAI,CAACC,KAAL,CAAWP,IAAX,CAAP;MACA,KAAKF,IAAL,CAAUC,eAAV,GAA4B,IAA5B;MACA,KAAKD,IAAL,CAAUE,IAAV,GAAiBA,IAAjB;IACJ;;IACA,KAAKQ,OAAL;EACH,CAnBY;;EAoBbC,QAAQ,GAAE,CAET,CAtBY;;EAuBbC,OAAO,GAAE,CAER,CAzBY;;EA0BbC,OAAO,EAAC;IACJH,OAAO,GAAE;MACL,IAAII,KAAI,GAAI,EAAZ;MACA,IAAIC,SAAQ,GAAI,EAAhB;;MACA,IAAG,KAAKf,IAAL,CAAUC,eAAV,IAA2B,IAA9B,EAAmC;QAC/Ba,KAAI,GAAI,KAAKd,IAAL,CAAUE,IAAV,CAAec,YAAvB;MACH,CAFD,MAEK;QACD,IAAID,SAAQ,GAAIT,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAhB;QACA,IAAG,CAACQ,SAAJ,EAAeA,SAAQ,GAAI,EAAZ;MACnB;;MAGAjB,KAAK,CAACmB,GAAN,CAAU,KAAKC,UAAL,GAAgB,aAA1B,EAAyC;QACrCC,MAAM,EAAE;UACJL,KAAK,EAAEA,KADH;UAEJC,SAAS,EAAEA;QAFP;MAD6B,CAAzC,EAKGK,IALH,CAKQC,GAAG,IAAE;QACTC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACtB,IAAhB;QACA,KAAKI,KAAL,GAAakB,GAAG,CAACtB,IAAJ,CAASI,KAAtB;QACA,KAAKC,KAAL,GAAaiB,GAAG,CAACtB,IAAJ,CAASK,KAAtB;MAEH,CAVD,EAUGoB,KAVH,CAUSC,GAAG,IAAE,CAEb,CAZD;IAcJ,CA1BI,CA6BJ;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;;EAlGI;AA1BK,CAAf","names":["axios","data","auth","isAuthenticated","user","carts","total","created","localStorage","getItem","JSON","parse","getCart","computed","mounted","methods","token","temp_user","access_token","get","rootDomain","params","then","res","console","log","catch","err"],"sourceRoot":"","sources":["D:\\VUE\\adminDeal\\src\\components\\pages\\user\\cartView.vue"],"sourcesContent":["<template>\r\n\r\n\r\n    <section class=\"pt-5 mb-4\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-xl-8 mx-auto\">\r\n                    <div class=\"row aiz-steps arrow-divider\">\r\n                        <div class=\"col active\">\r\n                            <div class=\"text-center text-primary\">\r\n                                <i class=\"la-3x mb-2 las la-shopping-cart\"></i>\r\n                                <h3 class=\"fs-14 fw-600 d-none d-lg-block\">{{'1. My Cart' }}</h3>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col\">\r\n                            <div class=\"text-center\">\r\n                                <i class=\"la-3x mb-2 opacity-50 las la-map\"></i>\r\n                                <h3 class=\"fs-14 fw-600 d-none d-lg-block opacity-50\">{{ '2. Shipping info' }}\r\n                                </h3>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col\">\r\n                            <div class=\"text-center\">\r\n                                <i class=\"la-3x mb-2 opacity-50 las la-truck\"></i>\r\n                                <h3 class=\"fs-14 fw-600 d-none d-lg-block opacity-50\">{{ '3. Delivery info' }}\r\n                                </h3>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col\">\r\n                            <div class=\"text-center\">\r\n                                <i class=\"la-3x mb-2 opacity-50 las la-credit-card\"></i>\r\n                                <h3 class=\"fs-14 fw-600 d-none d-lg-block opacity-50\">{{ '4. Payment' }}</h3>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col\">\r\n                            <div class=\"text-center\">\r\n                                <i class=\"la-3x mb-2 opacity-50 las la-check-circle\"></i>\r\n                                <h3 class=\"fs-14 fw-600 d-none d-lg-block opacity-50\">{{ '5. Confirmation' }}\r\n                                </h3>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n \r\n    <section class=\"mb-4\" id=\"cart-summary\">\r\n        <div class=\"container\">\r\n            \r\n                <div v-if=\"carts.length > 0\" class=\"row\">\r\n                    <div class=\"col-xxl-8 col-xl-10 mx-auto\">\r\n                        <div class=\"shadow-sm bg-white p-3 p-lg-4 rounded text-left\">\r\n                            <div class=\"mb-4\">\r\n                                <div class=\"row gutters-5 d-none d-lg-flex border-bottom mb-3 pb-3\">\r\n                                    <div class=\"col-md-5 fw-600\">{{ 'Product' }}</div>\r\n                                    <div class=\"col fw-600\">{{ 'Price' }}</div>\r\n                                    <div class=\"col fw-600\">{{ 'Tax' }}</div>\r\n                                    <div class=\"col fw-600\">{{ 'Quantity' }}</div>\r\n                                    <div class=\"col fw-600\">{{ 'Total' }}</div>\r\n                                    <div class=\"col-auto fw-600\">{{ 'Remove'}}</div>\r\n                                </div>\r\n                                <ul class=\"list-group list-group-flush\">\r\n                                  \r\n                         \r\n                                      \r\n                                        <li v-for=\"(item, index) in carts\" :key=\"index\" class=\"list-group-item px-0 px-lg-3\">\r\n                                            <div class=\"row gutters-5\">\r\n                                                <div class=\"col-lg-5 d-flex\">\r\n                                                    <span class=\"mr-2 ml-0\">\r\n                                                        <img :src=\"item.productData.data[0].thumbnail_image\"\r\n                                                            class=\"img-fit size-60px rounded\"\r\n                                                            :alt=\"item.productData.data[0].name\">\r\n                                                    </span>\r\n                                                    <span class=\"fs-14 opacity-60\">{{ item.product_name_with_choice }}</span>\r\n                                                </div>\r\n\r\n                                                <div class=\"col-lg col-4 order-1 order-lg-0 my-3 my-lg-0\">\r\n                                                    <span\r\n                                                        class=\"opacity-60 fs-12 d-block d-lg-none\">{{ 'Price' }}</span>\r\n                                                    <span\r\n                                                        class=\"fw-600 fs-16\">{{ item.cart_product_price }}</span>\r\n                                                </div>\r\n                                                <div class=\"col-lg col-4 order-2 order-lg-0 my-3 my-lg-0\">\r\n                                                    <span\r\n                                                        class=\"opacity-60 fs-12 d-block d-lg-none\">{{ 'Tax' }}</span>\r\n                                                    <span\r\n                                                        class=\"fw-600 fs-16\">{{ item.cart_product_tax }}</span>\r\n                                                </div>\r\n\r\n                                                <div class=\"col-lg col-6 order-4 order-lg-0\">\r\n                                                  \r\n                                                        <div v-if=\"item.digital != 1 && item.productData.data[0].auction_product == 0\"\r\n                                                            class=\"row no-gutters align-items-center aiz-plus-minus mr-2 ml-0\">\r\n                                                            <button\r\n                                                                class=\"btn col-auto btn-icon btn-sm btn-circle btn-light\"\r\n                                                                type=\"button\" data-type=\"minus\"\r\n                                                                :data-field=\"'quantity'+item.id\">\r\n                                                                <i class=\"las la-minus\"></i>\r\n                                                            </button>\r\n                                                            <input type=\"number\" :name=\"'quantity'+item.id\"\r\n                                                                class=\"col border-0 text-center flex-grow-1 fs-16 input-number\"\r\n                                                                placeholder=\"1\" :value=\"item.quantity\"\r\n                                                                :min=\"item.productData.data[0].min_qty\"\r\n                                                                :max=\"item.product_stock\">\r\n                                                            <button\r\n                                                                class=\"btn col-auto btn-icon btn-sm btn-circle btn-light\"\r\n                                                                type=\"button\" data-type=\"plus\"\r\n                                                                :data-field=\"'quantity'+item.id\">\r\n                                                                <i class=\"las la-plus\"></i>\r\n                                                            </button>\r\n                                                        </div>\r\n                                                        <span v-else-if=\"item.productData.data[0].auction_product == 1\" class=\"fw-600 fs-16\">1</span>\r\n                                                </div>\r\n                                                <div class=\"col-lg col-4 order-3 order-lg-0 my-3 my-lg-0\">\r\n                                                    <span\r\n                                                        class=\"opacity-60 fs-12 d-block d-lg-none\">{{ 'Total' }}</span>\r\n                                                    <span\r\n                                                        class=\"fw-600 fs-16 text-primary\">{{ item.single_price }}</span>\r\n                                                </div>\r\n                                                <div class=\"col-lg-auto col-6 order-5 order-lg-0 text-right\">\r\n                                                    <a href=\"javascript:void(0)\"\r\n                                                        class=\"btn btn-icon btn-sm btn-soft-primary btn-circle\">\r\n                                                        <i class=\"las la-trash\"></i>\r\n                                                    </a>\r\n                                                </div>\r\n                                            </div>\r\n                                        </li>\r\n                                  \r\n                                </ul>\r\n                            </div>\r\n\r\n                            <div class=\"px-3 py-2 mb-4 border-top d-flex justify-content-between\">\r\n                                <span class=\"opacity-60 fs-15\">{{ 'Subtotal' }}</span>\r\n                                <span class=\"fw-600 fs-17\">{{ total }}</span>\r\n                            </div>\r\n                            <div class=\"row align-items-center\">\r\n                                <div class=\"col-md-6 text-center text-md-left order-1 order-md-0\">\r\n                                    <a href=\"javascript:void(0)\" class=\"btn btn-link\">\r\n                                        <i class=\"las la-arrow-left\"></i>\r\n                                        {{ 'Return to shop' }}\r\n                                    </a>\r\n                                </div>\r\n                                <div class=\"col-md-6 text-center text-md-right\">\r\n                                  \r\n                                        <a v-if=\"auth.isAuthenticated\" href=\"javascript:void(0)\" class=\"btn btn-primary fw-600\">\r\n                                            {{ 'Continue to Shipping' }}\r\n                                        </a>\r\n                                  \r\n                                        <button v-else class=\"btn btn-primary fw-600\"\r\n                                            onclick=\"showCheckoutModal()\">{{ 'Continue to Shipping' }}</button>\r\n                                    \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            \r\n                <div v-else class=\"row\">\r\n                    <div class=\"col-xl-8 mx-auto\">\r\n                        <div class=\"shadow-sm bg-white p-4 rounded\">\r\n                            <div class=\"text-center p-3\">\r\n                                <i class=\"las la-frown la-3x opacity-60 mb-3\"></i>\r\n                                <h3 class=\"h4 fw-700\">{{ 'Your Cart is empty' }}</h3>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            \r\n        </div>\r\n    </section>\r\n\r\n   <!--\r\n@endsection\r\n\r\n@section('modal')\r\n    <div class=\"modal fade\" id=\"login-modal\">\r\n        <div class=\"modal-dialog modal-dialog-zoom\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h6 class=\"modal-title fw-600\">{{ translate('Login') }}</h6>\r\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\">\r\n                        <span aria-hidden=\"true\"></span>\r\n                    </button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <div class=\"p-3\">\r\n                        <form class=\"form-default\" role=\"form\" action=\"{{ route('cart.login.submit') }}\" method=\"POST\">\r\n                            @csrf\r\n                            @if (addon_is_activated('otp_system') && env('DEMO_MODE') != 'On')\r\n                                <div class=\"form-group phone-form-group mb-1\">\r\n                                    <input type=\"tel\" id=\"phone-code\"\r\n                                        class=\"form-control{{ $errors->has('phone') ? ' is-invalid' : '' }}\"\r\n                                        value=\"{{ old('phone') }}\" placeholder=\"\" name=\"phone\" autocomplete=\"off\">\r\n                                </div>\r\n\r\n                                <input type=\"hidden\" name=\"country_code\" value=\"\">\r\n\r\n                                <div class=\"form-group email-form-group mb-1 d-none\">\r\n                                    <input type=\"email\"\r\n                                        class=\"form-control {{ $errors->has('email') ? ' is-invalid' : '' }}\"\r\n                                        value=\"{{ old('email') }}\" placeholder=\"{{ translate('Email') }}\" name=\"email\"\r\n                                        id=\"email\" autocomplete=\"off\">\r\n                                    @if ($errors->has('email'))\r\n                                        <span class=\"invalid-feedback\" role=\"alert\">\r\n                                            <strong>{{ $errors->first('email') }}</strong>\r\n                                        </span>\r\n                                    @endif\r\n                                </div>\r\n\r\n                                <div class=\"form-group text-right\">\r\n                                    <button class=\"btn btn-link p-0 opacity-50 text-reset\" type=\"button\"\r\n                                        onclick=\"toggleEmailPhone(this)\">{{ translate('Use Email Instead') }}</button>\r\n                                </div>\r\n                            @else\r\n                                <div class=\"form-group\">\r\n                                    <input type=\"email\"\r\n                                        class=\"form-control{{ $errors->has('email') ? ' is-invalid' : '' }}\"\r\n                                        value=\"{{ old('email') }}\" placeholder=\"{{ translate('Email') }}\" name=\"email\"\r\n                                        id=\"email\" autocomplete=\"off\">\r\n                                    @if ($errors->has('email'))\r\n                                        <span class=\"invalid-feedback\" role=\"alert\">\r\n                                            <strong>{{ $errors->first('email') }}</strong>\r\n                                        </span>\r\n                                    @endif\r\n                                </div>\r\n                            @endif\r\n\r\n                            <div class=\"form-group\">\r\n                                <input type=\"password\"\r\n                                    class=\"form-control {{ $errors->has('password') ? ' is-invalid' : '' }}\"\r\n                                    placeholder=\"{{ translate('Password') }}\" name=\"password\" id=\"password\">\r\n                            </div>\r\n\r\n                            <div class=\"row mb-2\">\r\n                                <div class=\"col-6\">\r\n                                    <label class=\"aiz-checkbox\">\r\n                                        <input type=\"checkbox\" name=\"remember\" {{ old('remember') ? 'checked' : '' }}>\r\n                                        <span class=opacity-60>{{ translate('Remember Me') }}</span>\r\n                                        <span class=\"aiz-square-check\"></span>\r\n                                    </label>\r\n                                </div>\r\n                                <div class=\"col-6 text-right\">\r\n                                    <a href=\"{{ route('password.request') }}\"\r\n                                        class=\"text-reset opacity-60 fs-14\">{{ translate('Forgot password?') }}</a>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"mb-5\">\r\n                                <button type=\"submit\"\r\n                                    class=\"btn btn-primary btn-block fw-600\">{{ translate('Login') }}</button>\r\n                            </div>\r\n                        </form>\r\n\r\n                    </div>\r\n                    <div class=\"text-center mb-3\">\r\n                        <p class=\"text-muted mb-0\">{{ translate('Dont have an account?') }}</p>\r\n                        <a href=\"{{ route('user.registration') }}\">{{ translate('Register Now') }}</a>\r\n                    </div>\r\n                    @if (get_setting('google_login') == 1 || get_setting('facebook_login') == 1 || get_setting('twitter_login') == 1)\r\n                        <div class=\"separator mb-3\">\r\n                            <span class=\"bg-white px-3 opacity-60\">{{ translate('Or Login With') }}</span>\r\n                        </div>\r\n                        <ul class=\"list-inline social colored text-center mb-3\">\r\n                            @if (get_setting('facebook_login') == 1)\r\n                                <li class=\"list-inline-item\">\r\n                                    <a href=\"{{ route('social.login', ['provider' => 'facebook']) }}\"\r\n                                        class=\"facebook\">\r\n                                        <i class=\"lab la-facebook-f\"></i>\r\n                                    </a>\r\n                                </li>\r\n                            @endif\r\n                            @if (get_setting('google_login') == 1)\r\n                                <li class=\"list-inline-item\">\r\n                                    <a href=\"{{ route('social.login', ['provider' => 'google']) }}\"\r\n                                        class=\"google\">\r\n                                        <i class=\"lab la-google\"></i>\r\n                                    </a>\r\n                                </li>\r\n                            @endif\r\n                            @if (get_setting('twitter_login') == 1)\r\n                                <li class=\"list-inline-item\">\r\n                                    <a href=\"{{ route('social.login', ['provider' => 'twitter']) }}\"\r\n                                        class=\"twitter\">\r\n                                        <i class=\"lab la-twitter\"></i>\r\n                                    </a>\r\n                                </li>\r\n                            @endif\r\n                        </ul>\r\n                    @endif\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n@endsection\r\n\r\n\r\n\r\n@section('script')\r\n    <script type=\"text/javascript\">\r\n        function removeFromCartView(e, key) {\r\n            e.preventDefault();\r\n            removeFromCart(key);\r\n        }\r\n\r\n        function updateQuantity(key, element) {\r\n            $.post('{{ route('cart.updateQuantity') }}', {\r\n                _token: AIZ.data.csrf,\r\n                id: key,\r\n                quantity: element.value\r\n            }, function(data) {\r\n                updateNavCart(data.nav_cart_view, data.cart_count);\r\n                $('#cart-summary').html(data.cart_view);\r\n            });\r\n        }\r\n\r\n        function showCheckoutModal() {\r\n            $('#login-modal').modal();\r\n        }\r\n\r\n        // Country Code\r\n        var isPhoneShown = true,\r\n            countryData = window.intlTelInputGlobals.getCountryData(),\r\n            input = document.querySelector(\"#phone-code\");\r\n\r\n        for (var i = 0; i < countryData.length; i++) {\r\n            var country = countryData[i];\r\n            if (country.iso2 == 'bd') {\r\n                country.dialCode = '88';\r\n            }\r\n        }\r\n\r\n        var iti = intlTelInput(input, {\r\n            separateDialCode: true,\r\n            utilsScript: \"{{ static_asset('assets/js/intlTelutils.js') }}?1590403638580\",\r\n            onlyCountries: @php echo json_encode(\\App\\Models\\Country::where('status', 1)->pluck('code')->toArray()) @endphp,\r\n            customPlaceholder: function(selectedCountryPlaceholder, selectedCountryData) {\r\n                if (selectedCountryData.iso2 == 'bd') {\r\n                    return \"01xxxxxxxxx\";\r\n                }\r\n                return selectedCountryPlaceholder;\r\n            }\r\n        });\r\n\r\n        var country = iti.getSelectedCountryData();\r\n        $('input[name=country_code]').val(country.dialCode);\r\n\r\n        input.addEventListener(\"countrychange\", function(e) {\r\n            // var currentMask = e.currentTarget.placeholder;\r\n\r\n            var country = iti.getSelectedCountryData();\r\n            $('input[name=country_code]').val(country.dialCode);\r\n\r\n        });\r\n\r\n        function toggleEmailPhone(el) {\r\n            if (isPhoneShown) {\r\n                $('.phone-form-group').addClass('d-none');\r\n                $('.email-form-group').removeClass('d-none');\r\n                $('input[name=phone]').val(null);\r\n                isPhoneShown = false;\r\n                $(el).html('{{ translate('Use Phone Instead') }}');\r\n            } else {\r\n                $('.phone-form-group').removeClass('d-none');\r\n                $('.email-form-group').addClass('d-none');\r\n                $('input[name=email]').val(null);\r\n                isPhoneShown = true;\r\n                $(el).html('{{ translate('Use Email Instead') }}');\r\n            }\r\n        }\r\n    </script>\r\n@endsection \r\n-->\r\n<!-- <h1>OKKKK</h1> -->\r\n</template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  export default {\r\n    data(){\r\n      return{\r\n        auth:{\r\n          isAuthenticated: false,\r\n          user: {},\r\n        },\r\n        carts: [],\r\n        total: 0,\r\n      }\r\n    },\r\n    created(){\r\n        var user = localStorage.getItem(\"user\");\r\n        if(user !== null){\r\n            user = JSON.parse(user);\r\n            this.auth.isAuthenticated = true;\r\n            this.auth.user = user;\r\n        }\r\n        this.getCart();\r\n    },\r\n    computed(){\r\n      \r\n    },\r\n    mounted(){\r\n      \r\n    },\r\n    methods:{\r\n        getCart(){\r\n            var token = \"\";\r\n            var temp_user = \"\";\r\n            if(this.auth.isAuthenticated==true){\r\n                token = this.auth.user.access_token;\r\n            }else{\r\n                var temp_user = localStorage.getItem(\"temp_user\");\r\n                if(!temp_user) temp_user = \"\";\r\n            }\r\n\r\n\r\n            axios.get(this.rootDomain+'vueweb/cart', {\r\n                params: {\r\n                    token: token,\r\n                    temp_user: temp_user,\r\n                }\r\n            }).then(res=>{\r\n                console.log(res.data);\r\n                this.carts = res.data.carts;\r\n                this.total = res.data.total;\r\n\r\n            }).catch(err=>{\r\n\r\n            });\r\n\r\n        }\r\n\r\n\r\n        // getVariantPrice(){\r\n        //     let data;\r\n        //     if(this.color != null){data = {id: this.productDetails.id, quantity: this.quantity, color:this.color};}\r\n        //     else{data = {id: this.productDetails.id, quantity: this.quantity};}\r\n          \r\n        //     if(this.productDetails.min_qty > 0 && this.checkAddToCartValidity()){\r\n        //         $.ajax({\r\n        //            type:\"get\",\r\n        //            url: this.rootDomain+'vueweb/product-variant_price',\r\n        //            data: data,\r\n        //            success: function(data){\r\n        //                 $('.product-gallery-thumb .carousel-box').each(function (i) {\r\n        //                     if($(this).data('variation') && data.variation == $(this).data('variation')){\r\n        //                         $('.product-gallery-thumb').slick('slickGoTo', i);\r\n        //                     }\r\n        //                 })\r\n\r\n        //                 $('#option-choice-form #chosen_price_div').removeClass('d-none');\r\n        //                 $('#option-choice-form #chosen_price_div #chosen_price').html(data.price);\r\n        //                 $('#available-quantity').html(data.quantity);\r\n        //                 $('.input-number').prop('max', data.max_limit);\r\n        //                 if(parseInt(data.in_stock) == 0 && data.digital  == 0){\r\n        //                    $('.buy-now').addClass('d-none');\r\n        //                    $('.add-to-cart').addClass('d-none');\r\n        //                    $('.out-of-stock').removeClass('d-none');\r\n        //                 }\r\n        //                 else{\r\n        //                    $('.buy-now').removeClass('d-none');\r\n        //                    $('.add-to-cart').removeClass('d-none');\r\n        //                    $('.out-of-stock').addClass('d-none');\r\n        //                 }\r\n        //            }\r\n        //        });\r\n        //     }\r\n        // },\r\n        // checkAddToCartValidity(){\r\n        //     var names = {};\r\n        //     $('#option-choice-form input:radio').each(function() { // find unique names\r\n        //         names[$(this).attr('name')] = true;\r\n        //     });\r\n        //     var count = 0;\r\n        //     $.each(names, function() { // then count them\r\n        //         count++;\r\n        //     });\r\n\r\n        //     if($('#option-choice-form input:radio:checked').length == count){\r\n        //         return true;\r\n        //     }\r\n        //     return false;\r\n        // },\r\n\r\n        // incresQuantity(){\r\n        //      this.quantity = this.quantity + 1;\r\n        //     if( this.quantity > this.productDetails.stocksQty)  \r\n        //         this.quantity = this.productDetails.stocksQty;\r\n        //     this.getVariantPrice();\r\n        // },\r\n        // decresQuantity(){\r\n        //     this.quantity = this.quantity - 1;\r\n        //     if( this.quantity<1)  this.quantity = 1;\r\n        //     this.getVariantPrice();\r\n        // },\r\n        // setQuantity(){\r\n        //     let qty = $(\"#quantity\").val();\r\n        //     if(qty<1) qty = 1;\r\n        //     if(qty > this.productDetails.stocksQty) \r\n        //         qty = this.productDetails.stocksQty;\r\n        //     this.quantity = qty;\r\n        //     this.getVariantPrice();\r\n        // },\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <style>\r\n  \r\n  </style>"]},"metadata":{},"sourceType":"module"}
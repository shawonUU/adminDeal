{"ast":null,"code":"import axios from 'axios';\nexport default {\n  components: {},\n\n  data() {\n    return {\n      auth: {\n        isAuthenticated: false,\n        user: {}\n      },\n      data: null,\n      club_point: null\n    };\n  },\n\n  created() {\n    var user = localStorage.getItem(\"user\");\n    this.club_point = localStorage.getItem(\"club_point\");\n\n    if (user !== null) {\n      user = JSON.parse(user);\n      this.auth.isAuthenticated = true;\n      this.auth.user = user;\n      this.getPaymentInfoForSelect();\n    }\n  },\n\n  methods: {\n    getPaymentInfoForSelect() {\n      axios.get(this.selfDomain + \"vueweb/checkout/payment_info\", {\n        headers: {\n          Authorization: \"Bearer \" + this.auth.user.access_token\n        }\n      }).then(res => {\n        // console.log(res.data);\n        this.data = res.data;\n        this.toggleManualPaymentData($('input[name=payment_option]:checked').data('id'));\n      }).catch(err => {});\n    },\n\n    toggleManualPaymentData(id) {\n      if (typeof id != 'undefined') {\n        $('#manual_payment_description').parent().removeClass('d-none');\n        let data = $('#manual_payment_info_' + id).html(); // console.log(data);\n\n        $('#manual_payment_description').html();\n      }\n    },\n\n    online_payment() {\n      $('#manual_payment_description').parent().addClass('d-none');\n    },\n\n    submitOrder() {\n      let el = document.getElementById(\"complete_order\");\n      let minimum_order_amount_check = this.data.minimum_order_amount_check;\n      let minimum_order_amount = this.data.minimum_order_amount_check == 1 ? this.data.minimum_order_amount : 0;\n      $(el).prop('disabled', true);\n\n      if ($('#agree_checkbox').is(\":checked\")) {\n        if (minimum_order_amount_check && $('#sub_total').val() < minimum_order_amount) {\n          alert('You order amount is less then the minimum order amount');\n        } else {\n          var offline_payment_active = this.data.offline_payment;\n\n          if (offline_payment_active == 'true' && $('.offline_payment_option').is(\":checked\") && $('#trx_id').val() == '') {\n            alert('You need to put Transaction id');\n            $(el).prop('disabled', false);\n          } else {\n            let payment_option = $('input[name=payment_option]:checked').data('id');\n            console.log(payment_option);\n            return;\n\n            if (payment_option != null) {\n              localStorage.setItem(\"payment_type\", 'cart_payment');\n            }\n\n            let combined_order_id = localStorage.getItem(\"combined_order_id\");\n            let data = {\n              'combined_order_id': combined_order_id\n            };\n            localStorage.setItem(\"payment_data\", data);\n            let trx_id = $(\"#trx_id\").val();\n            let photo = $(\"#photo\").val(); // $('#checkout-form').submit();\n            // alert('submit');\n\n            axios.get(this.selfDomain + \"vueweb/checkout/payment\", {\n              params: {\n                combined_order_id: combined_order_id,\n                trx_id: trx_id,\n                photo: photo,\n                payment_option: payment_option\n              },\n              headers: {\n                Authorization: \"Bearer \" + this.auth.user.access_token\n              }\n            }).then(res => {\n              console.log(res.data);\n            }).catch(err => {});\n          }\n        }\n      } else {\n        alert('You need to agree with our policies');\n        $(el).prop('disabled', false);\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","components","data","auth","isAuthenticated","user","club_point","created","localStorage","getItem","JSON","parse","getPaymentInfoForSelect","methods","get","selfDomain","headers","Authorization","access_token","then","res","toggleManualPaymentData","$","catch","err","id","parent","removeClass","html","online_payment","addClass","submitOrder","el","document","getElementById","minimum_order_amount_check","minimum_order_amount","prop","is","val","alert","offline_payment_active","offline_payment","payment_option","console","log","setItem","combined_order_id","trx_id","photo","params"],"sourceRoot":"","sources":["C:\\VUE\\adminDeal\\src\\components\\pages\\user\\payment_select.vue"],"sourcesContent":["<template>\r\n     <section class=\"mb-4 pt-5\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-xl-8 mx-auto\">\r\n                    <div class=\"row aiz-steps arrow-divider\">\r\n                        <div class=\"col done\">\r\n                            <div class=\"text-success text-center\">\r\n                                <i class=\"la-3x las la-shopping-cart mb-2\"></i>\r\n                                <h3 class=\"fs-14 fw-600 d-none d-lg-block\">{{ '1. My Cart' }}</h3>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col done\">\r\n                            <div class=\"text-success text-center\">\r\n                                <i class=\"la-3x las la-map mb-2\"></i>\r\n                                <h3 class=\"fs-14 fw-600 d-none d-lg-block\">{{ '2. Shipping info' }}</h3>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col done\">\r\n                            <div class=\"text-success text-center\">\r\n                                <i class=\"la-3x las la-truck mb-2\"></i>\r\n                                <h3 class=\"fs-14 fw-600 d-none d-lg-block\">{{ '3. Delivery info' }}</h3>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col active\">\r\n                            <div class=\"text-primary text-center\">\r\n                                <i class=\"la-3x las la-credit-card mb-2\"></i>\r\n                                <h3 class=\"fs-14 fw-600 d-none d-lg-block\">{{ '4. Payment' }}</h3>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col\">\r\n                            <div class=\"text-center\">\r\n                                <i class=\"la-3x las la-check-circle mb-2 opacity-50\"></i>\r\n                                <h3 class=\"fs-14 fw-600 d-none d-lg-block opacity-50\">{{ '5. Confirmation' }}\r\n                                </h3>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n\r\n  <section v-if=\"data != null\" class=\"mb-4\">\r\n        <div class=\"container text-left\">\r\n            <div class=\"row\">\r\n                <div class=\"col-lg-8\">\r\n                    <form class=\"form-default\" role=\"form\" id=\"checkout-form\">\r\n                        <input type=\"hidden\" name=\"owner_id\" :value=\"data.carts[0]['owner_id']\">\r\n\r\n\r\n                        <div class=\"card rounded border-0 shadow-sm\">\r\n                            <div class=\"card-header p-3\">\r\n                                <h3 class=\"fs-16 fw-600 mb-0\">\r\n                                    {{ 'Any additional info?' }}\r\n                                </h3>\r\n                            </div>\r\n                            <div class=\"form-group px-3 pt-3\">\r\n                                <textarea name=\"additional_info\" rows=\"5\" class=\"form-control\"\r\n                                    placeholder=\"{{ 'Type your text' }}\"></textarea>\r\n                            </div>\r\n\r\n                            <div class=\"card-header p-3\">\r\n                                <h3 class=\"fs-16 fw-600 mb-0\">\r\n                                    {{ 'Select a payment option' }}\r\n                                </h3>\r\n                            </div>\r\n                            <div class=\"card-body text-center\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-xxl-8 col-xl-10 mx-auto\">\r\n                                        <div class=\"row gutters-10\">\r\n                                                <div v-if=\"data.paypal_payment == 1\" class=\"col-6 col-md-4\">\r\n                                                    <label class=\"aiz-megabox d-block mb-3\">\r\n                                                        <input value=\"paypal\" @click=\"online_payment()\" class=\"online_payment\" type=\"radio\"\r\n                                                            name=\"payment_option\" checked>\r\n                                                        <span class=\"d-block aiz-megabox-elem p-3\">\r\n                                                            <img :src=\"data.paypal_payment_img\"\r\n                                                                class=\"img-fluid mb-2\">\r\n                                                            <span class=\"d-block text-center\">\r\n                                                                <span\r\n                                                                    class=\"d-block fw-600 fs-15\">{{'Paypal' }}</span>\r\n                                                            </span>\r\n                                                        </span>\r\n                                                    </label>\r\n                                                </div>\r\n                                            \r\n                                                <div v-if=\"data.stripe_payment == 1\" class=\"col-6 col-md-4\">\r\n                                                    <label class=\"aiz-megabox d-block mb-3\">\r\n                                                        <input value=\"stripe\" @click=\"online_payment()\" class=\"online_payment\" type=\"radio\"\r\n                                                            name=\"payment_option\" checked>\r\n                                                        <span class=\"d-block aiz-megabox-elem p-3\">\r\n                                                            <img :src=\"data.stripe_payment_img\"\r\n                                                                class=\"img-fluid mb-2\">\r\n                                                            <span class=\"d-block text-center\">\r\n                                                                <span\r\n                                                                    class=\"d-block fw-600 fs-15\">{{ 'Stripe' }}</span>\r\n                                                            </span>\r\n                                                        </span>\r\n                                                    </label>\r\n                                                </div>\r\n                                            \r\n                                                <div v-if=\"data.mercadopago_payment == 1\" class=\"col-6 col-md-4\">\r\n                                                    <label class=\"aiz-megabox d-block mb-3\">\r\n                                                        <input value=\"mercadopago\" @click=\"online_payment()\" class=\"online_payment\" type=\"radio\"\r\n                                                            name=\"payment_option\" checked>\r\n                                                        <span class=\"d-block aiz-megabox-elem p-3\">\r\n                                                            <img :src=\"data.mercadopago_payment_img\"\r\n                                                                class=\"img-fluid mb-2\">\r\n                                                            <span class=\"d-block text-center\">\r\n                                                                <span\r\n                                                                    class=\"d-block fw-600 fs-15\">{{ 'Mercadopago' }}</span>\r\n                                                            </span>\r\n                                                        </span>\r\n                                                    </label>\r\n                                                </div>\r\n                                                <div v-if=\"data.sslcommerz_payment==1\" class=\"col-6 col-md-4\">\r\n                                                    <label class=\"aiz-megabox d-block mb-3\">\r\n                                                        <input value=\"sslcommerz\" @click=\"online_payment()\" class=\"online_payment\" type=\"radio\"\r\n                                                            name=\"payment_option\" checked>\r\n                                                        <span class=\"d-block aiz-megabox-elem p-3\">\r\n                                                            <img :src=\"data.sslcommerz_payment_img\"\r\n                                                                class=\"img-fluid mb-2\">\r\n                                                            <span class=\"d-block text-center\">\r\n                                                                <span\r\n                                                                    class=\"d-block fw-600 fs-15\">{{ 'sslcommerz' }}</span>\r\n                                                            </span>\r\n                                                        </span>\r\n                                                    </label>\r\n                                                </div>\r\n                                                <div v-if=\"data.instamojo_payment == 1\" class=\"col-6 col-md-4\">\r\n                                                    <label class=\"aiz-megabox d-block mb-3\">\r\n                                                        <input value=\"instamojo\" @click=\"online_payment()\" class=\"online_payment\" type=\"radio\"\r\n                                                            name=\"payment_option\" checked>\r\n                                                        <span class=\"d-block aiz-megabox-elem p-3\">\r\n                                                            <img :src=\"data.instamojo_payment_img\"\r\n                                                                class=\"img-fluid mb-2\">\r\n                                                            <span class=\"d-block text-center\">\r\n                                                                <span\r\n                                                                    class=\"d-block fw-600 fs-15\">{{ 'Instamojo' }}</span>\r\n                                                            </span>\r\n                                                        </span>\r\n                                                    </label>\r\n                                                </div>\r\n                                                <div v-if=\"data.razorpay == 1\" class=\"col-6 col-md-4\">\r\n                                                    <label class=\"aiz-megabox d-block mb-3\">\r\n                                                        <input value=\"razorpay\" @click=\"online_payment()\" class=\"online_payment\" type=\"radio\"\r\n                                                            name=\"payment_option\" checked>\r\n                                                        <span class=\"d-block aiz-megabox-elem p-3\">\r\n                                                            <img :src=\"data.razorpay_img\"\r\n                                                                class=\"img-fluid mb-2\">\r\n                                                            <span class=\"d-block text-center\">\r\n                                                                <span\r\n                                                                    class=\"d-block fw-600 fs-15\">{{ 'Razorpay' }}</span>\r\n                                                            </span>\r\n                                                        </span>\r\n                                                    </label>\r\n                                                </div>\r\n                                            \r\n                                                <div v-if=\"data.paystack==1\" class=\"col-6 col-md-4\">\r\n                                                    <label class=\"aiz-megabox d-block mb-3\">\r\n                                                        <input value=\"paystack\" @click=\"online_payment()\" class=\"online_payment\" type=\"radio\"\r\n                                                            name=\"payment_option\" checked>\r\n                                                        <span class=\"d-block aiz-megabox-elem p-3\">\r\n                                                            <img :src=\"data.paystack_img\"\r\n                                                                class=\"img-fluid mb-2\">\r\n                                                            <span class=\"d-block text-center\">\r\n                                                                <span\r\n                                                                    class=\"d-block fw-600 fs-15\">{{ 'Paystack' }}</span>\r\n                                                            </span>\r\n                                                        </span>\r\n                                                    </label>\r\n                                                </div>\r\n                                                <div v-if=\"data.voguepay == 1\" class=\"col-6 col-md-4\">\r\n                                                    <label class=\"aiz-megabox d-block mb-3\">\r\n                                                        <input value=\"voguepay\" @click=\"online_payment()\" class=\"online_payment\" type=\"radio\"\r\n                                                            name=\"payment_option\" checked>\r\n                                                        <span class=\"d-block aiz-megabox-elem p-3\">\r\n                                                            <img :src=\"data.voguepay_img\"\r\n                                                                class=\"img-fluid mb-2\">\r\n                                                            <span class=\"d-block text-center\">\r\n                                                                <span\r\n                                                                    class=\"d-block fw-600 fs-15\">{{ 'VoguePay' }}</span>\r\n                                                            </span>\r\n                                                        </span>\r\n                                                    </label>\r\n                                                </div>\r\n                                            \r\n                                                <div v-if=\"data.payhere==1\" class=\"col-6 col-md-4\">\r\n                                                    <label class=\"aiz-megabox d-block mb-3\">\r\n                                                        <input value=\"payhere\" @click=\"online_payment()\" class=\"online_payment\" type=\"radio\"\r\n                                                            name=\"payment_option\" checked>\r\n                                                        <span class=\"d-block aiz-megabox-elem p-3\">\r\n                                                            <img :src=\"data.payhere_img\"\r\n                                                                class=\"img-fluid mb-2\">\r\n                                                            <span class=\"d-block text-center\">\r\n                                                                <span\r\n                                                                    class=\"d-block fw-600 fs-15\">{{ 'payhere' }}</span>\r\n                                                            </span>\r\n                                                        </span>\r\n                                                    </label>\r\n                                                </div>\r\n                                                <div v-if=\"data.ngenius==1\" class=\"col-6 col-md-4\">\r\n                                                    <label class=\"aiz-megabox d-block mb-3\">\r\n                                                        <input value=\"ngenius\" @click=\"online_payment()\" class=\"online_payment\" type=\"radio\"\r\n                                                            name=\"payment_option\" checked>\r\n                                                        <span class=\"d-block aiz-megabox-elem p-3\">\r\n                                                            <img :src=\"data.ngenius_img\"\r\n                                                                class=\"img-fluid mb-2\">\r\n                                                            <span class=\"d-block text-center\">\r\n                                                                <span\r\n                                                                    class=\"d-block fw-600 fs-15\">{{ 'ngenius' }}</span>\r\n                                                            </span>\r\n                                                        </span>\r\n                                                    </label>\r\n                                                </div>\r\n                                           \r\n                                                <div v-if=\"data.iyzico==1\" class=\"col-6 col-md-4\">\r\n                                                    <label class=\"aiz-megabox d-block mb-3\">\r\n                                                        <input value=\"iyzico\" @click=\"online_payment()\" class=\"online_payment\" type=\"radio\"\r\n                                                            name=\"payment_option\" checked>\r\n                                                        <span class=\"d-block aiz-megabox-elem p-3\">\r\n                                                            <img :src=\"data.iyzico_img\"\r\n                                                                class=\"img-fluid mb-2\">\r\n                                                            <span class=\"d-block text-center\">\r\n                                                                <span\r\n                                                                    class=\"d-block fw-600 fs-15\">{{ 'Iyzico' }}</span>\r\n                                                            </span>\r\n                                                        </span>\r\n                                                    </label>\r\n                                                </div>\r\n                                           \r\n                                                <div v-if=\"data.nagad == 1\" class=\"col-6 col-md-4\">\r\n                                                    <label class=\"aiz-megabox d-block mb-3\">\r\n                                                        <input value=\"nagad\" @click=\"online_payment()\" class=\"online_payment\" type=\"radio\"\r\n                                                            name=\"payment_option\" checked>\r\n                                                        <span class=\"d-block aiz-megabox-elem p-3\">\r\n                                                            <img :src=\"data.nagad_img\"\r\n                                                                class=\"img-fluid mb-2\">\r\n                                                            <span class=\"d-block text-center\">\r\n                                                                <span\r\n                                                                    class=\"d-block fw-600 fs-15\">{{ 'Nagad' }}</span>\r\n                                                            </span>\r\n                                                        </span>\r\n                                                    </label>\r\n                                                </div>\r\n                                            \r\n                                                <div v-if=\"data.bkash==1\" class=\"col-6 col-md-4\">\r\n                                                    <label class=\"aiz-megabox d-block mb-3\">\r\n                                                        <input value=\"bkash\" @click=\"online_payment()\" class=\"online_payment\" type=\"radio\"\r\n                                                            name=\"payment_option\" checked>\r\n                                                        <span class=\"d-block aiz-megabox-elem p-3\">\r\n                                                            <img :src=\"data.bkash_img\"\r\n                                                                class=\"img-fluid mb-2\">\r\n                                                            <span class=\"d-block text-center\">\r\n                                                                <span\r\n                                                                    class=\"d-block fw-600 fs-15\">{{ 'Bkash' }}</span>\r\n                                                            </span>\r\n                                                        </span>\r\n                                                    </label>\r\n                                                </div>\r\n                                            \r\n                                                <div v-if=\"data.aamarpay==1\" class=\"col-6 col-md-4\">\r\n                                                    <label class=\"aiz-megabox d-block mb-3\">\r\n                                                        <input value=\"aamarpay\" @click=\"online_payment()\" class=\"online_payment\" type=\"radio\"\r\n                                                            name=\"payment_option\" checked>\r\n                                                        <span class=\"d-block aiz-megabox-elem p-3\">\r\n                                                            <img :src=\"data.aamarpay_img\"\r\n                                                                class=\"img-fluid mb-2\">\r\n                                                            <span class=\"d-block text-center\">\r\n                                                                <span\r\n                                                                    class=\"d-block fw-600 fs-15\">{{ 'Aamarpay' }}</span>\r\n                                                            </span>\r\n                                                        </span>\r\n                                                    </label>\r\n                                                </div>\r\n                                                <div v-if=\"data.authorizenet==1\" class=\"col-6 col-md-4\">\r\n                                                    <label class=\"aiz-megabox d-block mb-3\">\r\n                                                        <input value=\"authorizenet\" @click=\"online_payment()\" class=\"online_payment\" type=\"radio\"\r\n                                                            name=\"payment_option\" checked>\r\n                                                        <span class=\"d-block aiz-megabox-elem p-3\">\r\n                                                            <img :rc=\"data.authorizenet_img\"\r\n                                                                class=\"img-fluid mb-2\">\r\n                                                            <span class=\"d-block text-center\">\r\n                                                                <span\r\n                                                                    class=\"d-block fw-600 fs-15\">{{ 'Authorize Net' }}</span>\r\n                                                            </span>\r\n                                                        </span>\r\n                                                    </label>\r\n                                                </div>\r\n                                           \r\n                                                <div v-if=\"data.payku == 1\" class=\"col-6 col-md-4\">\r\n                                                    <label class=\"aiz-megabox d-block mb-3\">\r\n                                                        <input value=\"payku\" @click=\"online_payment()\" class=\"online_payment\" type=\"radio\"\r\n                                                            name=\"payment_option\" checked>\r\n                                                        <span class=\"d-block aiz-megabox-elem p-3\">\r\n                                                            <img :src=\"data.payku_img\"\r\n                                                                class=\"img-fluid mb-2\">\r\n                                                            <span class=\"d-block text-center\">\r\n                                                                <span\r\n                                                                    class=\"d-block fw-600 fs-15\">{{ 'Payku' }}</span>\r\n                                                            </span>\r\n                                                        </span>\r\n                                                    </label>\r\n                                                </div>\r\n                                            <template v-if=\"data.african_pg\">\r\n                                                    <div v-if=\"data.mpesa == 1\" class=\"col-6 col-md-4\">\r\n                                                        <label class=\"aiz-megabox d-block mb-3\">\r\n                                                            <input value=\"mpesa\" @click=\"online_payment()\" class=\"online_payment\" type=\"radio\"\r\n                                                                name=\"payment_option\" checked>\r\n                                                            <span class=\"d-block aiz-megabox-elem p-3\">\r\n                                                                <img :src=\"data.mpesa_img\"\r\n                                                                    class=\"img-fluid mb-2\">\r\n                                                                <span class=\"d-block text-center\">\r\n                                                                    <span\r\n                                                                        class=\"d-block fw-600 fs-15\">{{ 'mpesa' }}</span>\r\n                                                                </span>\r\n                                                            </span>\r\n                                                        </label>\r\n                                                    </div>\r\n                                                    <div v-if=\"data.flutterwave == 1\" class=\"col-6 col-md-4\">\r\n                                                        <label class=\"aiz-megabox d-block mb-3\">\r\n                                                            <input value=\"flutterwave\" @click=\"online_payment()\" class=\"online_payment\" type=\"radio\"\r\n                                                                name=\"payment_option\" checked>\r\n                                                            <span class=\"d-block aiz-megabox-elem p-3\">\r\n                                                                <img :src=\"data.flutterwave_img\"\r\n                                                                    class=\"img-fluid mb-2\">\r\n                                                                <span class=\"d-block text-center\">\r\n                                                                    <span\r\n                                                                        class=\"d-block fw-600 fs-15\">{{ 'flutterwave' }}</span>\r\n                                                                </span>\r\n                                                            </span>\r\n                                                        </label>\r\n                                                    </div>\r\n                                                    <div v-if=\"data.payfast == 1\" class=\"col-6 col-md-4\">\r\n                                                        <label class=\"aiz-megabox d-block mb-3\">\r\n                                                            <input value=\"payfast\" @click=\"online_payment()\" class=\"online_payment\" type=\"radio\"\r\n                                                                name=\"payment_option\" checked>\r\n                                                            <span class=\"d-block aiz-megabox-elem p-3\">\r\n                                                                <img :src=\"data.payfast_img\"\r\n                                                                    class=\"img-fluid mb-2\">\r\n                                                                <span class=\"d-block text-center\">\r\n                                                                    <span\r\n                                                                        class=\"d-block fw-600 fs-15\">{{ 'payfast' }}</span>\r\n                                                                </span>\r\n                                                            </span>\r\n                                                        </label>\r\n                                                    </div>\r\n                                            </template>\r\n                                                <div v-if=\"data.paytm && data.paytm_payment == 1\" class=\"col-6 col-md-4\">\r\n                                                    <label class=\"aiz-megabox d-block mb-3\">\r\n                                                        <input value=\"paytm\" @click=\"online_payment()\" class=\"online_payment\" type=\"radio\"\r\n                                                            name=\"payment_option\" checked>\r\n                                                        <span class=\"d-block aiz-megabox-elem p-3\">\r\n                                                            <img :src=\"data.paytm_payment_img\"\r\n                                                                class=\"img-fluid mb-2\">\r\n                                                            <span class=\"d-block text-center\">\r\n                                                                <span\r\n                                                                    class=\"d-block fw-600 fs-15\">{{ 'Paytm' }}</span>\r\n                                                            </span>\r\n                                                        </span>\r\n                                                    </label>\r\n                                                </div>\r\n\r\n                                                <div v-if=\"data.paytm && data.toyyibpay_payment==1 \" class=\"col-6 col-md-4\">\r\n                                                    <label class=\"aiz-megabox d-block mb-3\">\r\n                                                        <input value=\"toyyibpay\" @click=\"online_payment()\"  class=\"online_payment\" type=\"radio\"\r\n                                                            name=\"payment_option\" checked>\r\n                                                        <span class=\"d-block aiz-megabox-elem p-3\">\r\n                                                            <img :src=\"data.toyyibpay_payment_img\"\r\n                                                                class=\"img-fluid mb-2\">\r\n                                                            <span class=\"d-block text-center\">\r\n                                                                <span\r\n                                                                    class=\"d-block fw-600 fs-15\">{{ 'ToyyibPay' }}</span>\r\n                                                            </span>\r\n                                                        </span>\r\n                                                    </label>\r\n                                                </div>\r\n\r\n                                                \r\n                                                    <div v-if=\"data.cash_payment == 1 && data.digital == 0 && data.cod_on == 1\" class=\"col-6 col-md-4\">\r\n                                                        <label class=\"aiz-megabox d-block mb-3\">\r\n                                                            <input value=\"cash_on_delivery\" @click=\"online_payment()\" class=\"online_payment\"\r\n                                                                type=\"radio\" name=\"payment_option\" checked>\r\n                                                            <span class=\"d-block aiz-megabox-elem p-3\">\r\n                                                                <img :src=\"data.cod_on_img\"\r\n                                                                    class=\"img-fluid mb-2\">\r\n                                                                <span class=\"d-block text-center\">\r\n                                                                    <span\r\n                                                                        class=\"d-block fw-600 fs-15\">{{ 'Cash on Delivery' }}</span>\r\n                                                                </span>\r\n                                                            </span>\r\n                                                        </label>\r\n                                                    </div>\r\n                                              \r\n                                            <template v-if=\"auth.isAuthenticated && data.offline_payment\">\r\n                                                        <div v-for=\"(method,index) in data.manualPaymentMethods\" :key=\"index\" class=\"col-6 col-md-4\">\r\n                                                            <label class=\"aiz-megabox d-block mb-3\">\r\n                                                                <input :value=\"method.heading\" type=\"radio\"\r\n                                                                    @change=\"toggleManualPaymentData(method.id)\"\r\n                                                                    name=\"payment_option\" class=\"offline_payment_option\"\r\n                                                                    :data-id=\"method.id\" checked>\r\n                                                                <span class=\"d-block aiz-megabox-elem p-3\">\r\n                                                                    <img :src=\"method.photo\"\r\n                                                                        class=\"img-fluid mb-2\">\r\n                                                                    <span class=\"d-block text-center\">\r\n                                                                        <span\r\n                                                                            class=\"d-block fw-600 fs-15\">{{ method.heading }}</span>\r\n                                                                    </span>\r\n                                                                </span>\r\n                                                            </label>\r\n                                                        </div>\r\n\r\n                                                    \r\n                                                        <div v-for=\"(method,index) in data.manualPaymentMethods\" :key=\"index\" :id=\"'manual_payment_info_'+method.id\" class=\"d-none\">\r\n                                                            {{method.description}}\r\n                                                            \r\n                                                                <ul v-if=\"method.bank_info != null\">\r\n                                                                        <li v-for=\"(info, index) in method.bank_info\" :key=\"index\">{{'Bank Name' }} -\r\n                                                                            {{ info.bank_name }},\r\n                                                                            {{ 'Account Name' }} -\r\n                                                                            {{ info.account_name }},\r\n                                                                            {{ 'Account Number' }} -\r\n                                                                            {{ info.account_number }},\r\n                                                                            {{ 'Routing Number' }} -\r\n                                                                            {{ info.routing_number }}\r\n                                                                        </li>\r\n                                                                </ul>\r\n                                                            \r\n                                                        </div>\r\n                                            </template>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                    <div v-if=\"data.offline_payment\" class=\"d-none mb-3 rounded border bg-white p-3 text-left\">\r\n                                        <div id=\"manual_payment_description\">\r\n\r\n\r\n                                        </div>\r\n                                        <br>\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-md-3\">\r\n                                                <label> Transaction ID  <span class=\"text-danger\">*</span></label>\r\n                                            </div>\r\n                                            <div class=\"col-md-9\">\r\n                                                <input type=\"text\" class=\"form-control mb-3\" name=\"trx_id\" id=\"trx_id\" placeholder=\"{{ 'Transaction ID' }}\" required>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"form-group row\">\r\n                                            <label class=\"col-md-3 col-form-label\">Photo</label>\r\n                                            <div class=\"col-md-9\">\r\n                                                <div class=\"input-group\" data-toggle=\"aizuploader\" data-type=\"image\">\r\n                                                    <div class=\"input-group-prepend\">\r\n                                                        <div class=\"input-group-text bg-soft-secondary font-weight-medium\">{{ 'Browse'}}</div>\r\n                                                    </div>\r\n                                                    <div class=\"form-control file-amount\">{{ 'Choose image' }}</div>\r\n                                                    <input type=\"hidden\" id=\"photo\" name=\"photo\" class=\"selected-files\">\r\n                                                </div>\r\n                                                <div class=\"file-preview box sm\">\r\n\r\n\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                <template v-if=\"auth.isAuthenticated && data.wallet_system == 1\">\r\n                                    <div class=\"separator mb-3\">\r\n                                        <span class=\"bg-white px-3\">\r\n                                            <span class=\"opacity-60\">{{ 'Or' }}</span>\r\n                                        </span>\r\n                                    </div>\r\n                                    <div class=\"py-4 text-center\">\r\n                                        <div class=\"h6 mb-3\">\r\n                                            <span class=\"opacity-80\">{{ 'Your wallet balance :' }}</span>\r\n                                            <span\r\n                                                class=\"fw-600\">{{ data.user_balance_single_price }}</span>\r\n                                        </div>\r\n                                            <button v-if=\"data.user_balance < data.total\" type=\"button\" class=\"btn btn-secondary\" disabled>\r\n                                                {{ 'Insufficient balance' }}\r\n                                            </button>\r\n                                            <button v-else type=\"button\"  class=\"btn btn-primary fw-600\">\r\n                                                {{ 'Pay with wallet' }}\r\n                                            </button>\r\n                                    </div>\r\n                                </template>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"pt-3\">\r\n                            <label class=\"aiz-checkbox\">\r\n                                <input type=\"checkbox\" required id=\"agree_checkbox\">\r\n                                <span class=\"aiz-square-check\"></span>\r\n                                <span>{{ 'I agree to the' }}</span>\r\n                            </label>\r\n                            <a href=\"\">{{'terms and conditions' }}</a>,\r\n                            <a href=\"\">{{ 'return policy' }}</a> &\r\n                            <a href=\"\">{{ 'privacy policy' }}</a>\r\n                        </div>\r\n\r\n                        <div class=\"row align-items-center pt-3\">\r\n                            <div class=\"col-6\">\r\n                                <router-link :to=\"{name: 'home'}\" class=\"link link--style-3\">\r\n                                    <i class=\"las la-arrow-left\"></i>\r\n                                    {{ 'Return to shop' }}\r\n                                </router-link>\r\n                            </div>\r\n                            <div class=\"col-6 text-right\">\r\n                                <button id=\"complete_order\" @click=\"submitOrder()\" type=\"button\" class=\"btn btn-primary fw-600\">{{ 'Complete Order' }}</button>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n\r\n                <div class=\"col-lg-4 mt-lg-0 mt-4\" id=\"cart_summary\">\r\n                    <div class=\"card rounded border-0 shadow-sm\">\r\n\r\n\r\n                            <div class=\"card-header\">\r\n                                <h3 class=\"fs-16 fw-600 mb-0\">{{ 'Summary' }}</h3>\r\n                                <div class=\"text-right\">\r\n                                    <span class=\"badge badge-inline badge-primary\">\r\n                                        {{ data.carts.length }}\r\n                                        {{ 'Items' }}\r\n                                    </span>\r\n                                    <!-- @php\r\n                                        $coupon_discount = 0;\r\n                                    @endphp\r\n                                    @if (Auth::check() && get_setting('coupon_system') == 1)\r\n                                        @php\r\n                                            $coupon_code = null;\r\n                                        @endphp\r\n\r\n                                        @foreach ($carts as $key => $cartItem)\r\n                                            @php\r\n                                                $product = \\App\\Models\\Product::find($cartItem['product_id']);\r\n                                            @endphp\r\n                                            @if ($cartItem->coupon_applied == 1)\r\n                                                @php\r\n                                                    $coupon_code = $cartItem->coupon_code;\r\n                                                    break;\r\n                                                @endphp\r\n                                            @endif\r\n                                        @endforeach\r\n\r\n                                        @php\r\n                                            $coupon_discount = carts_coupon_discount($coupon_code);\r\n                                        @endphp\r\n                                    @endif\r\n\r\n                                    @php $subtotal_for_min_order_amount = 0; @endphp\r\n                                    @foreach ($carts as $key => $cartItem)\r\n                                        @php $subtotal_for_min_order_amount += cart_product_price($cartItem, $cartItem->product, false, false) * $cartItem['quantity']; @endphp\r\n                                    @endforeach -->\r\n\r\n                                        <span v-if=\"data.minimum_order_amount_check == 1 && data.subtotal < data.minimum_order_amount\" class=\"badge badge-inline badge-primary\">\r\n                                            {{ 'Minimum Order Amount' + ' ' + data.minimum_order_amount_single_price }}\r\n                                        </span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"card-body\">\r\n                                <!-- @if (addon_is_activated('club_point'))\r\n                                    @php\r\n                                        $total_point = 0;\r\n                                    @endphp\r\n                                    @foreach ($carts as $key => $cartItem)\r\n                                        @php\r\n                                            $product = \\App\\Models\\Product::find($cartItem['product_id']);\r\n                                            $total_point += $product->earn_point * $cartItem['quantity'];\r\n                                        @endphp\r\n                                    @endforeach -->\r\n\r\n                                    <div v-if=\"data.club_point\" class=\"bg-soft-primary border-soft-primary mb-2 rounded border px-2\">\r\n                                        {{ 'Total Club point' }}:\r\n                                        <span class=\"fw-700 float-right\">{{ data.total_point }}</span>\r\n                                    </div>\r\n                                <!-- @endif -->\r\n                                <table class=\"table\">\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th class=\"product-name\">{{ 'Product' }}</th>\r\n                                            <th class=\"product-total text-right\">{{ 'Total' }}</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <!-- @php\r\n                                            $subtotal = 0;\r\n                                            $tax = 0;\r\n                                            $shipping = 0;\r\n                                            $product_shipping_cost = 0;\r\n                                            $shipping_region = $shipping_info['city'];\r\n                                        @endphp\r\n                                        @foreach ($carts as $key => $cartItem)\r\n                                            @php\r\n                                                $product = \\App\\Models\\Product::find($cartItem['product_id']);\r\n                                                $subtotal += cart_product_price($cartItem, $product, false, false) * $cartItem['quantity'];\r\n                                                $tax += cart_product_tax($cartItem, $product, false) * $cartItem['quantity'];\r\n                                                $product_shipping_cost = $cartItem['shipping_cost'];\r\n                                                \r\n                                                $shipping += $product_shipping_cost;\r\n                                                \r\n                                                $product_name_with_choice = $product->getTranslation('name');\r\n                                                if ($cartItem['variant'] != null) {\r\n                                                    $product_name_with_choice = $product->getTranslation('name') . ' - ' . $cartItem['variant'];\r\n                                                }\r\n                                            @endphp -->\r\n                                            <tr v-for=\"(cartItem, index) in data.carts\" :key=\"index\" class=\"cart_item\">\r\n                                                <td class=\"product-name\">\r\n                                                    {{ cartItem.product_name_with_choice }}\r\n                                                    <strong class=\"product-quantity\">\r\n                                                         {{ cartItem.quantity }}\r\n                                                    </strong>\r\n                                                </td>\r\n                                                <td class=\"product-total text-right\">\r\n                                                    <span\r\n                                                        class=\"pl-4 pr-0\">{{ cartItem.cart_product_single_price }}</span>\r\n                                                </td>\r\n                                            </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                                <input type=\"hidden\" id=\"sub_total\" :value=\"data.subtotal\">\r\n                                <table class=\"table\">\r\n\r\n                                    <tfoot>\r\n                                        <tr class=\"cart-subtotal\">\r\n                                            <th>{{ 'Subtotal' }}</th>\r\n                                            <td class=\"text-right\">\r\n                                                <span class=\"fw-600\">{{ data.subtotal_single_price }}</span>\r\n                                            </td>\r\n                                        </tr>\r\n\r\n                                        <tr class=\"cart-shipping\">\r\n                                            <th>{{ 'Tax' }}</th>\r\n                                            <td class=\"text-right\">\r\n                                                <span class=\"font-italic\">{{ data.tax_single_price }}</span>\r\n                                            </td>\r\n                                        </tr>\r\n\r\n                                        <tr class=\"cart-shipping\">\r\n                                            <th>{{ 'Total Shipping' }}</th>\r\n                                            <td class=\"text-right\">\r\n                                                <span class=\"font-italic\">{{ data.shipping_single_price }}</span>\r\n                                            </td>\r\n                                        </tr>\r\n\r\n                                      \r\n                                            <tr v-if=\"club_point\" class=\"cart-shipping\">\r\n                                                <th>{{ 'Redeem point' }}</th>\r\n                                                <td class=\"text-right\">\r\n                                                    <span class=\"font-italic\">{{ club_point }}</span>\r\n                                                </td>\r\n                                            </tr>\r\n\r\n                                            <tr v-if=\"data.coupon_discount > 0\" class=\"cart-shipping\">\r\n                                                <th>{{ 'Coupon Discount' }}</th>\r\n                                                <td class=\"text-right\">\r\n                                                    <span class=\"font-italic\">{{ data.coupon_discount_single_price }}</span>\r\n                                                </td>\r\n                                            </tr>\r\n\r\n                                        \r\n\r\n                                        <tr class=\"cart-total\">\r\n                                            <th><span class=\"strong-600\">{{ 'Total' }}</span></th>\r\n                                            <td class=\"text-right\">\r\n                                                <strong>\r\n                                                    <span>{{ club_point  ? data.total - club_point :  data.coupon_discount > 0 ? data.total - data.coupon_discount : data.total}}</span>\r\n                                                </strong>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </tfoot>\r\n                                </table>\r\n\r\n                              \r\n                                        <div v-if=\"data.club_point && club_point\" class=\"mt-3\">\r\n                                            <form class=\"\" \r\n                                                enctype=\"multipart/form-data\">\r\n                                               \r\n                                                <div class=\"input-group\">\r\n                                                    <div class=\"form-control\">{{  }}</div>\r\n                                                    <div class=\"input-group-append\">\r\n                                                        <button type=\"submit\"\r\n                                                            class=\"btn btn-primary\">{{ 'Remove Redeem Point' }}</button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </form>\r\n                                        </div>\r\n                                   \r\n\r\n                               \r\n                                <templete v-if=\"auth.isAuthenticated == true && data.coupon_system == 1\">\r\n                                   \r\n                                        <div v-if=\"data.coupon_discount > 0 && data.coupon_code\" class=\"mt-3\">\r\n                                            <form class=\"\" id=\"remove-coupon-form\" enctype=\"multipart/form-data\">\r\n                                             \r\n                                                <div class=\"input-group\">\r\n                                                    <div class=\"form-control\">{{ data.coupon_code }}</div>\r\n                                                    <div class=\"input-group-append\">\r\n                                                        <button type=\"button\" id=\"coupon-remove\"\r\n                                                            class=\"btn btn-primary\">{{ 'Change Coupon' }}</button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </form>\r\n                                        </div>\r\n                                    \r\n                                        <div class=\"mt-3\">\r\n                                            <form class=\"\" id=\"apply-coupon-form\" enctype=\"multipart/form-data\">\r\n                                            \r\n                                                <input type=\"hidden\" name=\"owner_id\" value=\"{{ data.carts[0]['owner_id'] }}\">\r\n                                                <div class=\"input-group\">\r\n                                                    <input type=\"text\" class=\"form-control\" name=\"code\"\r\n                                                        onkeydown=\"return event.key != 'Enter';\"\r\n                                                        placeholder=\"{{ 'Have coupon code? Enter here' }}\" required>\r\n                                                    <div class=\"input-group-append\">\r\n                                                        <button type=\"button\" id=\"coupon-apply\"\r\n                                                            class=\"btn btn-primary\">{{ 'Apply' }}</button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </form>\r\n                                        </div>\r\n                                  \r\n                                </templete>\r\n\r\n                            </div>\r\n                        </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n  </section> \r\n</template>\r\n\r\n\r\n<script>\r\n\r\n  import axios from 'axios';\r\n  export default {\r\n    components:{},\r\n    data(){\r\n      return{\r\n        auth:{\r\n          isAuthenticated: false,\r\n          user: {},\r\n        },\r\n\r\n        data: null,\r\n        club_point: null\r\n\r\n       \r\n      }\r\n    },\r\n    created(){\r\n        var user = localStorage.getItem(\"user\");\r\n        this.club_point = localStorage.getItem(\"club_point\");\r\n        if(user !== null){\r\n            user = JSON.parse(user);\r\n            this.auth.isAuthenticated = true;\r\n            this.auth.user = user;\r\n\r\n            this.getPaymentInfoForSelect();\r\n            \r\n        }\r\n    },\r\n\r\n    methods:{\r\n        getPaymentInfoForSelect(){\r\n            axios.get(this.selfDomain+\"vueweb/checkout/payment_info\", {\r\n                headers: {\r\n                    Authorization: \"Bearer \" + this.auth.user.access_token,\r\n                }\r\n            }).then(res=>{\r\n                // console.log(res.data);\r\n                this.data = res.data;\r\n                this.toggleManualPaymentData($('input[name=payment_option]:checked').data('id'));\r\n\r\n            }).catch(err=>{\r\n\r\n            });\r\n        } ,\r\n        toggleManualPaymentData(id){\r\n            if (typeof id != 'undefined') {\r\n                $('#manual_payment_description').parent().removeClass('d-none');\r\n                let data = $('#manual_payment_info_' + id).html();\r\n                // console.log(data);\r\n                $('#manual_payment_description').html();\r\n            }\r\n        },\r\n        online_payment(){\r\n            $('#manual_payment_description').parent().addClass('d-none');\r\n        },\r\n        submitOrder() {\r\n            let el = document.getElementById(\"complete_order\");\r\n            let minimum_order_amount_check = this.data.minimum_order_amount_check;\r\n            let minimum_order_amount = this.data.minimum_order_amount_check == 1 ? this.data.minimum_order_amount : 0;\r\n            $(el).prop('disabled', true);\r\n            if ($('#agree_checkbox').is(\":checked\")) {\r\n                if (minimum_order_amount_check && $('#sub_total').val() < minimum_order_amount) {\r\n                    alert('You order amount is less then the minimum order amount');\r\n                } else {\r\n                    var offline_payment_active = this.data.offline_payment;\r\n                    if (offline_payment_active == 'true' && $('.offline_payment_option').is(\":checked\") && $('#trx_id').val() == '') {\r\n                       alert('You need to put Transaction id');\r\n                        $(el).prop('disabled', false);\r\n                    } else {\r\n\r\n                        let payment_option = $('input[name=payment_option]:checked').data('id');\r\n                        console.log(payment_option);return;\r\n                        if(payment_option != null){\r\n                            localStorage.setItem(\"payment_type\", 'cart_payment');\r\n                        }\r\n                        let combined_order_id = localStorage.getItem(\"combined_order_id\");\r\n                        let data={'combined_order_id' : combined_order_id};\r\n                        localStorage.setItem(\"payment_data\", data);\r\n\r\n                        let trx_id = $(\"#trx_id\").val();\r\n                        let photo = $(\"#photo\").val();\r\n\r\n                        // $('#checkout-form').submit();\r\n                        // alert('submit');\r\n\r\n                        \r\n                        axios.get(this.selfDomain+\"vueweb/checkout/payment\", {\r\n                            params:{\r\n                                combined_order_id: combined_order_id,\r\n                                trx_id: trx_id,\r\n                                photo: photo,\r\n                                payment_option: payment_option,\r\n                            },\r\n                            headers: {\r\n                                Authorization: \"Bearer \" + this.auth.user.access_token,\r\n                            }\r\n                        }).then(res=>{\r\n                          console.log(res.data);\r\n\r\n                        }).catch(err=>{\r\n\r\n                        });\r\n\r\n\r\n                    }\r\n                }\r\n            } else {\r\n                alert('You need to agree with our policies');\r\n                $(el).prop('disabled', false);\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <style>\r\n  \r\n  </style>\r\n  "]},"metadata":{},"sourceType":"module"}